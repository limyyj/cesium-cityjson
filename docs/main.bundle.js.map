{"version":3,"sources":["./src/$_lazy_route_resource lazy","./src/app/app.component.css","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/mobius-cesium/data/DataSubscriber.ts","./src/app/mobius-cesium/data/cesiumGeom.service.ts","./src/app/mobius-cesium/data/data.service.ts","./src/app/mobius-cesium/data/readCityGML.service.ts","./src/app/mobius-cesium/data/readCityJSON.service.ts","./src/app/mobius-cesium/mobius-cesium.component.html","./src/app/mobius-cesium/mobius-cesium.component.scss","./src/app/mobius-cesium/mobius-cesium.component.ts","./src/app/mobius-cesium/mobius-cesium.module.ts","./src/app/mobius-cesium/setting/about.component.html","./src/app/mobius-cesium/setting/about.component.ts","./src/app/mobius-cesium/setting/attributes.component.css","./src/app/mobius-cesium/setting/attributes.component.html","./src/app/mobius-cesium/setting/attributes.component.ts","./src/app/mobius-cesium/setting/display.copmponent.css","./src/app/mobius-cesium/setting/display.copmponent.html","./src/app/mobius-cesium/setting/display.copmponent.ts","./src/app/mobius-cesium/setting/filter.component.css","./src/app/mobius-cesium/setting/filter.component.html","./src/app/mobius-cesium/setting/filter.component.ts","./src/app/mobius-cesium/setting/publish.component.css","./src/app/mobius-cesium/setting/publish.component.html","./src/app/mobius-cesium/setting/publish.component.ts","./src/app/mobius-cesium/setting/setting.component.css","./src/app/mobius-cesium/setting/setting.component.html","./src/app/mobius-cesium/setting/setting.component.ts","./src/app/mobius-cesium/setting/visualise.component.css","./src/app/mobius-cesium/setting/visualise.component.html","./src/app/mobius-cesium/setting/visualise.component.ts","./src/app/mobius-cesium/viewer/viewer.component.css","./src/app/mobius-cesium/viewer/viewer.component.html","./src/app/mobius-cesium/viewer/viewer.component.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_lazy_route_resource lazy\n// module id = ./src/$$_lazy_route_resource lazy recursive\n// module chunks = main","module.exports = \"@import url(\\\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\\\");\\r\\n\\r\\n@font-face{\\r\\n  font-family: \\\"FontAwesome\\\";\\r\\n}\\r\\n\\r\\nhtml,body {\\r\\n  font-family: 'Open Sans', sans-serif;\\r\\n  margin: 0px !important;\\r\\n  padding: 0px !important;\\r\\n  border: 0px !important;\\r\\n  outline:0px !important;\\r\\n  overflow: hidden;\\r\\n  font-size: 14px;\\r\\n}\\r\\n\\r\\n#loadfile{\\r\\n  z-index: 99;\\r\\n  top: 5px;\\r\\n  position: absolute;\\r\\n  right: 86px;\\r\\n  width: 32px;\\r\\n  height: 32px;\\r\\n  font-family: sans-serif !important;\\r\\n  font-size: 16px;\\r\\n  -webkit-box-sizing: border-box;\\r\\n          box-sizing: border-box;\\r\\n  border-radius: 14%;\\r\\n  padding: 0;\\r\\n  vertical-align: middle;\\r\\n}\\r\\n\\r\\n#overlay{\\r\\n  z-index: 250;\\r\\n  background-color: rgba(0, 0, 0, 0.8);\\r\\n  -webkit-box-sizing: border-box;\\r\\n          box-sizing: border-box;\\r\\n  position: absolute;\\r\\n  left: 0;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  bottom: 0;\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n#loader {\\r\\n  position: absolute;\\r\\n  left: 50%;\\r\\n  top: 50%;\\r\\n  z-index: 260;\\r\\n  width: 150px;\\r\\n  height: 150px;\\r\\n  margin: -75px 0 0 -75px;\\r\\n  border: 16px solid #f3f3f3;\\r\\n  border-radius: 50%;\\r\\n  border-top: 16px solid #3498db;\\r\\n  width: 120px;\\r\\n  height: 120px;\\r\\n  -webkit-animation: spin 2s linear infinite;\\r\\n  animation: spin 2s linear infinite;\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n@-webkit-keyframes spin {\\r\\n  0% { -webkit-transform: rotate(0deg); }\\r\\n  100% { -webkit-transform: rotate(360deg); }\\r\\n}\\r\\n\\r\\n@keyframes spin {\\r\\n  0% { -webkit-transform: rotate(0deg); transform: rotate(0deg); }\\r\\n  100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); }\\r\\n}\\r\\n\\r\\n/*#drop_zone {\\r\\n  position: absolute;\\r\\n  left: calc(50% - 150px);\\r\\n  border: 5px solid blue;\\r\\n  width:  300px;\\r\\n  height: 100px;\\r\\n}*/\\r\\n\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = ./src/app/app.component.css\n// module chunks = main","module.exports = \"<div style=\\\"height: 100%\\\">\\r\\n\\t<div id=\\\"loadfile\\\">\\r\\n      <!-- <div class=\\\"version\\\" style=\\\"font-family:sans-serif;color:white;\\\">v0.1.1&nbsp;&nbsp;</div> -->\\r\\n      <button  class=\\\"cesium-button\\\" onclick=\\\"document.getElementById('files').click();\\\" style=\\\"width: 32px; height: 32px; padding: 0px\\\"><i class=\\\"fa fa-file fa-lg\\\"></i></button>\\r\\n      <input type=\\\"file\\\" id=\\\"files\\\" name=\\\"files[]\\\" style=\\\"font-family:sans-serif;color:white;\\\" (change)=\\\"handleFileSelect($event)\\\" style=\\\"display: none;\\\"/>\\r\\n  \\t</div>\\r\\n\\t<mobius-cesium [data]=\\\"gs_dummy_data\\\" [mode]=\\\"'editor'\\\"></mobius-cesium>\\r\\n</div>\\r\\n\\r\\n<div id=\\\"overlay\\\"></div>\\r\\n<div id=\\\"loader\\\"></div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = ./src/app/app.component.html\n// module chunks = main","import { Component, OnInit } from \"@angular/core\";\r\nimport {DataService} from \"./mobius-cesium/data/data.service\";\r\n\r\n@Component({\r\n  selector: \"app-root\",\r\n  templateUrl: \"./app.component.html\",\r\n  styleUrls: [\"./app.component.css\"],\r\n})\r\nexport class AppComponent {\r\n  public gs_dummy_data: any=undefined;\r\n  public mode: string;\r\n  public rules : any;\r\n\r\n  constructor(private dataService: DataService) {\r\n    // this.dataService.setGsModel(this.gs_dummy_data);\r\n  }\r\n\r\n  public handleFileSelect(evt) {\r\n    const files = evt.target.files; // FileList object\r\n    evt = null;\r\n    const filetype = files[0].type;\r\n    const fr = new FileReader();\r\n    const self = this;\r\n    fr.onload = function(text) {\r\n      if (filetype === \"application/json\") {\r\n        const js_data = JSON.parse(text.target[\"result\"]);\r\n        self.gs_dummy_data = js_data;\r\n      } else {\r\n        const parser = new DOMParser();\r\n        const xmlDoc = parser.parseFromString(text.target[\"result\"],\"application/xml\");\r\n        self.gs_dummy_data = xmlDoc;\r\n      }\r\n    };\r\n    fr.readAsText(files[0]);\r\n    document.getElementById(\"overlay\").style.display = \"block\";\r\n    document.getElementById(\"loader\").style.display = \"block\";\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { AppComponent } from './app.component';\r\nimport {MobiusCesium} from './mobius-cesium/mobius-cesium.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    MobiusCesium\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Injector } from '@angular/core';\r\nimport { DataService } from \"./data.service\";\r\nimport { CityJSONService } from \"./readCityJSON.service\";\r\nimport { CityGMLService } from \"./readCityGML.service\";\r\nimport { CesiumGeomService } from \"./cesiumGeom.service\";\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nexport class DataSubscriber {\r\n\r\n    protected dataService: DataService;\r\n    protected cityJSONService: CityJSONService;\r\n    protected cityGMLService: CityGMLService;\r\n    protected cesiumGeomService: CesiumGeomService;\r\n    private _subscription: Subscription;\r\n    private _message: any;\r\n\r\n    constructor(injector: Injector) {\r\n        this.dataService = injector.get(DataService);\r\n        this._subscription = this.dataService.getMessage().subscribe((message) => {\r\n          this._message = message;\r\n          this.notify(message.text);\r\n        });\r\n        this.cityJSONService = injector.get(CityJSONService);\r\n        this.cityGMLService = injector.get(CityGMLService);\r\n        this.cesiumGeomService = injector.get(CesiumGeomService);\r\n    }\r\n\r\n    notify(message: string) {\r\n        console.warn(\"Notify function not Implemented\");\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mobius-cesium/data/DataSubscriber.ts","import { Injectable } from \"@angular/core\";\r\nimport {Observable} from \"rxjs\";\r\nimport {Subject} from \"rxjs/Subject\";\r\nimport * as chroma from \"chroma-js\";\r\nimport proj4 from \"proj4\";\r\nimport * as earcut from \"earcut\";\r\n\r\n@Injectable()\r\nexport class CesiumGeomService {\r\n\tprivate dataSource: any;\r\n  private parent_ids: string[];\r\n  private total_count: number;\r\n  private prop_ids: object;\r\n\r\n  /* Initialise datasource and other data\r\n     Called by CityGMLservice and CityJSONservice when new file is loaded */\r\n  public initialiseCesium(): void {\r\n    // initialise and suspend datasource\r\n    this.dataSource = new Cesium.CustomDataSource();\r\n    this.suspendDataSource();\r\n    // initialise/reset id arrays and counter\r\n    this.parent_ids = [];\r\n    this.total_count = 0;\r\n    this.prop_ids = {};\r\n  }\r\n\r\n  /* Get datasource\r\n     Returns: datasource\r\n     Called by CityGMLservice and CityJSONservice when file completely generated */\r\n  public getDataSource(): any {\r\n    return this.dataSource;\r\n  }\r\n\r\n  /* Clears datasource after adding to viewer\r\n     Called in viewer.component */\r\n  public clearDataSource(): void {\r\n    this.dataSource = null;\r\n  }\r\n\r\n  /* Suspend and resume tracking of datasource so that it doesn't update while adding entities\r\n     Called by CityGMLservice and CityJSONservice when new file is loaded and completely generated respectively */\r\n  public suspendDataSource(): void {\r\n    this.dataSource.entities.suspendEvents();\r\n  }\r\n  public resumeDataSource(): void {\r\n    this.dataSource.entities.resumeEvents();\r\n  }\r\n\r\n  /* Gets id arrays and counter\r\n     Called by cityjson.component for filters */\r\n  public getIds(): string[] {\r\n    // return this.srftype_ids;\r\n    return this.parent_ids;\r\n  }\r\n  public getCount(): number {\r\n    // return this.srftype_count;\r\n    return this.total_count;\r\n  }\r\n  public getPropIds(): object {\r\n    return this.prop_ids;\r\n  }\r\n\r\n  /* Add ID of parent entity to a list and update polygon count\r\n     - for looping through in filters because only parent entities have properties and control visibility (no need to look at children)\r\n     Params: Surface type of element\r\n             id of entity\r\n             number of polygons in entity*/\r\n  private addId(id,count): void {\r\n    this.parent_ids.push(id);\r\n    this.total_count += count;\r\n  }\r\n\r\n  /* Add key:value pairs (property_name : [property_value]) to prop_ids\r\n     If key already exists, adds property value to array (string), replace min/max value if applicable (number)\r\n     if property value already exists under same key, nothing is added\r\n     - for selection dropdown boxes in filters\r\n     Params: Object containing key:value pairs of properties*/\r\n  private addPropId(props): void {\r\n    const cats = Object.keys(props);\r\n    for (let x of cats) {\r\n      const ids = Object.keys(props[x]);\r\n      for (let i of ids) {\r\n        // Prop type is number:\r\n        // if PropId doesn't exist in array, add pair\r\n        if (typeof props[i] === \"number\") {\r\n          if (this.prop_ids[i] === undefined) {\r\n            this.prop_ids[i] = [props[x][i],props[x][i]];\r\n          }\r\n          // if it already exists then check min and max and replace\r\n          else {\r\n            if (props[x][i] < this.prop_ids[x][i][0]) {\r\n              this.prop_ids[i][0] = props[x][i];\r\n            } else if (props[x][i] > this.prop_ids[i][1]) {\r\n              this.prop_ids[i][1] = props[x][i];\r\n            }\r\n          }\r\n        }\r\n\r\n        // Prop type is string:\r\n        // if PropId doesn't exist in array, add it\r\n        else {\r\n          if (this.prop_ids[i] === undefined) {\r\n            this.prop_ids[i] = [props[x][i]];\r\n          }\r\n          // if it already exists then push id to existing arr\r\n          else {\r\n            if (this.prop_ids[i].includes(props[x][i]) === false) {\r\n              this.prop_ids[i].push(props[x][i]);\r\n            }\r\n          }\r\n        } \r\n      }\r\n    }\r\n  }\r\n\r\n  /* Creates and returns a color property that is linked to a time interval (from year 1000 to 3000)\r\n     - allows color changes to update more quickly (than static color property)\r\n     Params: Color Property (Static)\r\n     Returns: Color Property (TimeInterval) */\r\n  private timeIntervalColor(color): object {\r\n    var property = new Cesium.TimeIntervalCollectionProperty(Cesium.Color);\r\n    var timeInterval = new Cesium.TimeInterval({\r\n        start : Cesium.JulianDate.fromDate(new Date(1000, 1, 1, 1)),\r\n        stop : Cesium.JulianDate.fromDate(new Date(3000, 1, 1, 1)),\r\n        isStartIncluded : true,\r\n        isStopIncluded : false,\r\n        data : color\r\n    });\r\n    property.intervals.addInterval(timeInterval);\r\n    return new Cesium.ColorMaterialProperty(property);\r\n  }\r\n\r\n  /* Calculates and returns the max diff between list of values\r\n     - finds the smallest and largest values\r\n     - for determining axis and horizontal\r\n     Params: Array of numbers\r\n     Returns: Max difference between all input values */\r\n  private maxDiff(values): number {\r\n    let maxval = values[0];\r\n    let minval = values[0];\r\n    for (let i = 1 ; i < values.length ; i++) {\r\n      if (values[i] > maxval) {\r\n        maxval = values[i];\r\n      }\r\n      if (values[i] < minval) {\r\n        minval = values[i];\r\n      }\r\n    }\r\n    return (maxval - minval);\r\n  }\r\n\r\n  /* Determines axis/plane to use for earcut triangulation (takes the one with larger difference in coordinates)\r\n     Params: Array of points (eg. [[0,0,0],[0,1,0],[0,1,1],[0,0,0]])\r\n     Returns: 0 for xz plane, 1 for yz plane\r\n     Uses: - maxDiff */\r\n  private determineAxis(points): number {\r\n    // split coords and determine plane\r\n    const x = [];\r\n    const y = [];\r\n    points.forEach((coords) => {\r\n      x.push(coords[0]);\r\n      y.push(coords[1]);\r\n    });\r\n\r\n    if (this.maxDiff(x) > this.maxDiff(y)) {\r\n      // x axis seems to be wider, use xz axis\r\n      return 0;\r\n    } else {\r\n      // y axis seems to be wider, use yz axis\r\n      return 1;\r\n    }\r\n  }\r\n\r\n  /* Checks if a polygon is horizontal or not by the max difference in z coordinates\r\n     Params: Array of points (eg. [[0,0,0],[0,1,0],[0,1,1],[0,0,0]])\r\n     Returns: true if horizontal, false if not horizontal\r\n     Uses: - maxDiff*/\r\n  private checkHorizontal(ring): boolean {\r\n    const z = [];\r\n    ring.forEach((coords) => {\r\n      z.push(coords[2]);\r\n    });\r\n\r\n    if (this.maxDiff(z) < 0.001) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /* Creates and returns a flat list of coordinates from an array of points\r\n     Params: Array of points (eg. [[0,0,0],[0,1,0],[0,1,1],[0,0,0]])\r\n     Returns: Flat array of coordinates (eg. [0,0,0,0,1,0,0,1,1,0,0,0]) */\r\n  private flatCoords(ring): number[] {\r\n    const flat = [];\r\n    ring.forEach((point) => {\r\n      flat.push(...point);\r\n    });\r\n    return flat;\r\n  }\r\n\r\n  /* Determines and returns the color property for a polygon based on its surface type\r\n     Params: Surface type\r\n     Returns: Color Property (Static)\r\n     Uses: - timeIntervalColor */\r\n  private determineColor(surface_type): object {\r\n    let colour = undefined;\r\n    if (surface_type === \"WallSurface\") {\r\n      colour = this.timeIntervalColor(Cesium.Color.SILVER);\r\n    } else if (surface_type === \"RoofSurface\") {\r\n      colour = this.timeIntervalColor(Cesium.Color.RED);\r\n    } else if (surface_type === \"Window\") {\r\n      colour = this.timeIntervalColor(Cesium.Color.LIGHTBLUE.withAlpha(0.5));\r\n    } else if (surface_type === \"Door\") {\r\n      colour = this.timeIntervalColor(Cesium.Color.TAN);\r\n    } else {\r\n      colour = this.timeIntervalColor(Cesium.Color.WHITE);\r\n    }\r\n    return colour;\r\n  }\r\n\r\n  /* Adds a polygon entity to the datasource (sets color and parent)\r\n     Params: Array of array of points (first array is outer ring, subsequent arrays are holes)\r\n             Colour property (Static/TimeInterval)\r\n             Parent entity\r\n     Uses: - flatCoords */\r\n  private addCesiumPoly(polygon, color, parent): void {\r\n    // Create polygon heirarchy\r\n    const ext = Cesium.Cartesian3.fromDegreesArrayHeights(this.flatCoords(polygon[0]));\r\n    let p_hierarchy = new Cesium.PolygonHierarchy(ext);\r\n    if (polygon.length > 0) {\r\n      const int = [];\r\n      for (let i = 1 ; i < polygon.length ; i++) {\r\n        int.push(new Cesium.PolygonHierarchy(Cesium.Cartesian3.fromDegreesArrayHeights(this.flatCoords(polygon[i]))));\r\n      }\r\n      p_hierarchy = new Cesium.PolygonHierarchy(ext,int);\r\n    }\r\n\r\n    // Create polygon\r\n    const poly = this.dataSource.entities.add({\r\n      parent : parent,\r\n      polygon : {\r\n        hierarchy : p_hierarchy,\r\n        perPositionHeight : true,\r\n        material : color,\r\n        outline : false,\r\n      },\r\n    });\r\n  }\r\n\r\n  /* Triangulates polygon and adds a group of polygons to datsource\r\n     Params: Array of array of points (first array is outer ring, subsequent arrays are holes)\r\n             Colour property (Static/TimeInterval)\r\n             Parent entity\r\n     Uses: - determineAxis\r\n           - earcut\r\n           - addCesiumPoly */\r\n  private addTriPoly(polygon, colour, parent): void {\r\n    // Determine if triangulation should be done on XZ or YZ plane (if X or Y axis have a larger range of values)\r\n    // 0 for XZ, 1 for YZ\r\n    const axis = this.determineAxis(polygon[0]);\r\n    let other_axis = 0;\r\n    if (axis === 0) {\r\n      other_axis = 1;\r\n    }\r\n\r\n    // Get points from respective axes and put into earcut format\r\n    const poly_vertices = [];\r\n    const holes = [];\r\n    const other_coords = [];\r\n    let count = 0;\r\n    for (let i = 0 ; i < polygon.length ; i++) {\r\n      polygon[i].forEach((coords) => {\r\n        poly_vertices.push(coords[axis],coords[2]);\r\n        other_coords.push(coords[other_axis]);\r\n        count++;\r\n      });\r\n      if (i !== (polygon.length - 1)) {\r\n        holes.push(count);\r\n      }\r\n    }\r\n\r\n    // Throw into earcut\r\n    const tri_index = earcut(poly_vertices,holes);\r\n\r\n    // Create polys in Cesium\r\n    for (let p = 0 ; p < tri_index.length ; p = p + 3) {\r\n      const points = [];\r\n\r\n      //Get coordinates for each point\r\n      for (let j = p; j < (p + 3) ; j++) {\r\n        const i = tri_index[j];\r\n        let coord = [undefined,undefined,undefined];\r\n        coord[other_axis] = other_coords[i];\r\n        coord[axis] = poly_vertices[i*2];\r\n        coord[2] = poly_vertices[(i*2) + 1];\r\n        points.push(coord);\r\n      }\r\n      this.addCesiumPoly([points], colour, parent);\r\n    }\r\n  }\r\n\r\n////////////////////////// Main functions, TODO: better structure management ///////////////////////////\r\n\r\n  // creates a parent entity containing all the entities that make up a multipolygon (called for JSON)\r\n  public genMultiPoly(polygon, colour, properties): void {\r\n    // Create parent to hold polygon\r\n    const parent = this.dataSource.entities.add(new Cesium.Entity());\r\n    let CScolour = undefined;\r\n    if (colour !== undefined) {\r\n      CScolour = this.timeIntervalColor(colour);\r\n    } else {\r\n      CScolour = this.determineColor(properties[\"Surface Properties\"][\"Surface_Type\"]);\r\n    }\r\n    // If horizontal use Cesium Polygon Entity API directly\r\n    if (this.checkHorizontal(polygon[0]) === true) {\r\n      this.addCesiumPoly(polygon, CScolour, parent);\r\n    }\r\n    // If not, triangulate with earcut into individual entities\r\n    else {\r\n      this.addTriPoly(polygon, CScolour, parent);\r\n    }\r\n    // Add properties and add entity ID to respective group for filter\r\n    parent.properties = new Cesium.PropertyBag(properties);\r\n    this.addId(parent.id,parent._children.length);\r\n    this.addPropId(properties);\r\n  }\r\n\r\n  // creates parent entities containing all the entities that make up each surface in a solid (called for JSON)\r\n  public genSolid(solid, colour, surface_type, properties): void {\r\n    for (var i = 0 ; i < solid.length ; i++) {\r\n      // Create parent to hold polygons\r\n      const parent = this.dataSource.entities.add(new Cesium.Entity());\r\n      const polygon = solid[i];\r\n      let CScolour = undefined;\r\n      if (colour[i] !== undefined) {\r\n        CScolour = this.timeIntervalColor(colour[i]);\r\n      } else {\r\n        CScolour = this.determineColor(surface_type[i]);\r\n      }\r\n      // Edit properties\r\n      properties[\"Surface Properties\"].Surface_Type = surface_type[i];\r\n      // If horizontal use Cesium Polygon Entity API directly\r\n      if (this.checkHorizontal(polygon[0]) === true) {\r\n        this.addCesiumPoly(polygon, CScolour, parent);\r\n      }\r\n      // If not, triangulate with earcut into individual entities\r\n      else {\r\n        this.addTriPoly(polygon, CScolour, parent);\r\n      }\r\n      // Add properties and add entity ID to respective group for filter\r\n      parent.properties = new Cesium.PropertyBag(properties);\r\n      this.addId(parent.id,parent._children.length);\r\n      this.addPropId(properties);\r\n    }\r\n  }\r\n\r\n  // creates a parent entity containing all the entities that make up an element (eg. 1 wall) (called for GML)\r\n  public genSolidGrouped(solid, colour, properties, srftype): void {\r\n    // Create parent to hold polygons\r\n    const parent = this.dataSource.entities.add(new Cesium.Entity());\r\n    let CScolour = undefined;\r\n    if (colour !== undefined) {\r\n      CScolour = this.timeIntervalColor(colour);\r\n    } else {\r\n      CScolour = this.determineColor(srftype);\r\n    }\r\n    for (var i = 0 ; i < solid.length ; i++) {\r\n      const polygon = solid[i];\r\n      // If horizontal use Cesium Polygon Entity API directly\r\n      if (this.checkHorizontal(polygon[0]) === true) {\r\n        this.addCesiumPoly(polygon, CScolour, parent);\r\n      }\r\n      // If not, triangulate with earcut into individual entities\r\n      else {\r\n        this.addTriPoly(polygon, CScolour, parent);\r\n      }\r\n    }\r\n    // Add properties and add entity ID to respective group for filter\r\n    parent.properties = new Cesium.PropertyBag(properties);\r\n    this.addId(parent.id,parent._children.length);\r\n    this.addPropId(properties);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mobius-cesium/data/cesiumGeom.service.ts","import { Injectable } from \"@angular/core\";\r\nimport {Observable} from \"rxjs\";\r\nimport {Subject} from \"rxjs/Subject\";\r\nimport * as chroma from \"chroma-js\";\r\nimport proj4 from \"proj4\";\r\nimport * as earcut from \"earcut\";\r\n\r\n@Injectable()\r\nexport class DataService {\r\n  private _jsonModel: JSON;\r\n  private subject = new Subject<any>();\r\n  private viewer: any;\r\n  private _SelectedEntity: any;\r\n  private cesiumpromise: any;\r\n  // private hideElementArr: any[];\r\n  // private _HideNum: any[];\r\n  private mode: string;\r\n  // private _ViData: object;\r\n  // private _PuData: object;\r\n  private _index: number;\r\n  private _Filter: any[];\r\n  private _Imagery: string;\r\n  private _Sun: boolean;\r\n  private _Shadow: boolean;\r\n  private _Date: string;\r\n  private _UTC: number;\r\n  private rules: any;\r\n\r\n  public sendMessage(message?: string) {\r\n    this.subject.next({text: message});\r\n  }\r\n  public clearMessage() {\r\n    this.subject.next();\r\n  }\r\n\r\n  public getMessage(): Observable<any> {\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  public readRules(): void {\r\n    this.rules = new Promise(function(resolve) {\r\n      let val = \"\";\r\n      const xhttp = new XMLHttpRequest();\r\n      xhttp.onload = function() {\r\n        if (xhttp.readyState === 4 && xhttp.status === 200) {\r\n          val = JSON.parse(xhttp.responseText);\r\n          resolve(val);\r\n        }\r\n      };\r\n      xhttp.open(\"GET\", \"./assets/rules/testnames1.json\", true);\r\n      xhttp.send();\r\n    });\r\n    const self = this;\r\n    this.rules.then((file) => {\r\n      self.rules = file;\r\n    });\r\n  }\r\n\r\n  public getRules(): any {\r\n    return this.rules;\r\n  }\r\n\r\n  //get geojson\r\n  public getGsModel(): any {\r\n    return this._jsonModel;\r\n  }\r\n  //set mode \r\n  public setMode(mode: string) {\r\n    this.mode = mode;\r\n  }\r\n  //set new json file\r\n  public setGsModel(model: JSON) {\r\n    delete this._jsonModel;\r\n    const json = this._jsonModel;\r\n    this._jsonModel = model;\r\n    if(this._jsonModel !== undefined){this.clearAll();}\r\n    this.sendMessage(\"model_update\");\r\n    \r\n  }\r\n  //before loading geojson, clear all for last geojson\r\n  public clearAll(){\r\n    // delete this.hideElementArr;\r\n    // delete this._HideNum;\r\n    // delete this._ViData;\r\n    // delete this._PuData;\r\n    delete this._index;\r\n    delete this._Filter;\r\n  }\r\n  //get viewer\r\n  public getViewer(): any {\r\n    return this.viewer;\r\n  }\r\n  //set viewer\r\n  public setViewer(_viewer): void {\r\n    this.viewer = _viewer;\r\n  }\r\n  //get selected entity\r\n  public get_SelectedEntity(): any {\r\n    return this._SelectedEntity;\r\n  }\r\n  //set selected entity\r\n  public set_SelectedEntity(_SelectedEntity): void {\r\n    this._SelectedEntity = _SelectedEntity;\r\n  }\r\n  //get promise\r\n  public getcesiumpromise(): any {\r\n    return this.cesiumpromise;\r\n  }\r\n  //set promise\r\n  public setcesiumpromise(cesiumpromise): void {\r\n    delete this.cesiumpromise;\r\n    this.cesiumpromise = cesiumpromise;\r\n  }\r\n  // // get filter array\r\n  // public gethideElementArr(): any {\r\n  //   return this.hideElementArr;\r\n  // }\r\n  // //get filter number\r\n  // public get_HideNum(): any[] {\r\n  //   return this._HideNum;\r\n  // }\r\n  //get mode\r\n  public getmode(): string {\r\n    return this.mode;\r\n  }\r\n  //get index after changing select, data, display, publish\r\n  public get_index(): number {\r\n    return this._index;\r\n  }\r\n  //set index after changing select, data, display, publish\r\n  public set_index(_index): void {\r\n    this._index = _index;\r\n  }\r\n  //set sun true/false in Display\r\n  public set_Sun(_Sun): void{\r\n    this._Sun = _Sun;\r\n  }\r\n  //get sun true/false in Display\r\n  public get_Sun(): boolean{\r\n    return this._Sun;\r\n  }\r\n  //set shadow true/false in Display\r\n  public set_Shadow(_Shadow): void{\r\n    this._Shadow = _Shadow;\r\n  }\r\n  //get shadow true/false in Display\r\n  public get_Shadow(): boolean{\r\n    return this._Shadow;\r\n  }\r\n  //set date in Display\r\n  public set_Date(_Date): void{\r\n    this._Date = _Date;\r\n  }\r\n  //get date in Display\r\n  public get_Date(): string{\r\n    return this._Date;\r\n  }\r\n  //set UTC in Display\r\n  public set_UTC(_UTC): void{\r\n    this._UTC = _UTC;\r\n  }\r\n  //get UTC in Display\r\n  public get_UTC(): number{\r\n    return this._UTC;\r\n  }\r\n  //set imagery in Display\r\n  public set_Imagery(_Imagery): void {\r\n    this._Imagery = _Imagery;\r\n  }\r\n  //get imagery in Display\r\n  public get_Imagery(): string {\r\n    return this._Imagery;\r\n  }\r\n  // //convert json to ViData(editor version) to store every thing in setting\r\n  // public getValue(model: JSON) {\r\n  //   if(model !== undefined) {\r\n  //     let propertyName = Object.keys(model[\"features\"][0].properties);\r\n  //     let feature_instance = model[\"features\"][0];\r\n  //     let _HeightKeys = propertyName.filter(function(prop_name) {\r\n  //       const value =  feature_instance.properties[prop_name];\r\n  //       return (typeof(value) === \"number\");\r\n  //     });\r\n  //     if(model[\"features\"].length > 1){\r\n  //       for(let i = 1 ;i<model[\"features\"].length;i++){\r\n  //         for(let properties of Object.keys(model[\"features\"][i].properties)){\r\n  //           if(propertyName.indexOf(String(properties))<0){\r\n  //             propertyName.push(properties);\r\n  //             if(typeof(model[\"features\"][i].properties[properties]) === \"number\"){\r\n  //               _HeightKeys.push(properties);\r\n  //             }\r\n  //           }\r\n  //         }\r\n  //       }\r\n  //     }\r\n      \r\n  //     propertyName.sort();\r\n  //     propertyName.unshift(\"None\");\r\n  //     const propertyNames = propertyName.filter(function(value) { \r\n  //       return value != 'TYPE'&& value != 'COLOR'&& value != 'HEIGHT'&&value != 'EXTRUDEDHEIGHT'\r\n  //     });\r\n  //     const _ColorValue = propertyNames[0];\r\n  //     const _HeightKey = _HeightKeys.filter(function(value) { \r\n  //       return value != 'TYPE'&& value != 'COLOR'&& value != 'HEIGHT'&&value != 'EXTRUDEDHEIGHT'\r\n  //     });\r\n  //     _HeightKey.sort();\r\n  //     _HeightKey.unshift(\"None\");\r\n  //     const _HeightValue = _HeightKey[0];\r\n\r\n  //     const promise = this.cesiumpromise;\r\n  //     const _Heighttexts: any[] = [];\r\n  //     const _Colortexts: any[] = [];\r\n  //     const _indexArr: number[] = [];\r\n  //     const self = this;\r\n  //     promise.then(function(dataSource) {\r\n  //       const entities = dataSource.entities.values;\r\n  //       for (const entity of entities) {\r\n  //         if(entity.properties[\"TYPE\"] === undefined||entity.properties[\"TYPE\"]._value !== \"STATIC\"){\r\n  //           if(entity.properties[_HeightValue] !== undefined) {\r\n  //             if(entity.properties[_HeightValue]._value !== \" \") {\r\n  //               if(_Heighttexts.length === 0) {_Heighttexts[0]=entity.properties[_HeightValue]._value;\r\n  //               } else { if(_Heighttexts.indexOf(entity.properties[_HeightValue]._value) === -1) {\r\n  //                _Heighttexts.push(entity.properties[_HeightValue]._value);}\r\n  //               }\r\n  //             }\r\n  //           }\r\n  //           if(entity.properties[_ColorValue] !== undefined) {\r\n  //             if(entity.properties[_ColorValue]._value !== \" \") {\r\n  //               if(_Colortexts.length === 0) {_Colortexts[0] = entity.properties[_ColorValue]._value;\r\n  //               } else { if(_Colortexts.indexOf(entity.properties[_ColorValue]._value) === -1) {\r\n  //                 _Colortexts.push(entity.properties[_ColorValue]._value);}\r\n  //               }\r\n  //             }\r\n  //           }\r\n  //           _indexArr.push(entities.indexOf(entity));\r\n  //         } else {\r\n  //           entity.polygon.height =  entity.properties[\"HEIGHT\"];\r\n  //           entity.polygon.extrudedHeight = entity.properties[\"EXTRUDEDHEIGHT\"];\r\n  //           const ColorValue = entity.properties[\"COLOR\"]._value;\r\n  //           entity.polygon.material = Cesium.Color.fromBytes(ColorValue[0], ColorValue[1], ColorValue[2], ColorValue[3]);\r\n  //         }\r\n  //         if(entity.polygon !== undefined) {\r\n  //             entity.polygon.outlineColor = Cesium.Color.Black;\r\n  //         }\r\n  //         if(entity.billboard !== undefined) {\r\n  //           entity.billboard = undefined;\r\n  //           entity.point = new Cesium.PointGraphics({\r\n  //             color: Cesium.Color.BLUE,\r\n  //             pixelSize: 10,\r\n  //           });\r\n  //         }\r\n  //       }\r\n  //     });\r\n  //     const _MinColor = Math.min.apply(Math, _Colortexts);\r\n  //     const _MaxColor = Math.max.apply(Math, _Colortexts);\r\n  //     const _MinHeight = Math.min.apply(Math, _Heighttexts);\r\n  //     const _MaxHeight = Math.max.apply(Math, _Heighttexts);\r\n  //     const _Filter: any[] = [];\r\n  //     const _HideNum: any[] = [];\r\n  //     this.getViData(propertyNames,_Colortexts.sort(),_ColorValue,_MinColor,_MaxColor,false,\r\n  //                    _HeightKey,_Heighttexts.sort(),_HeightValue,_MinHeight,_MaxHeight,1,\r\n  //                    false,false,_Filter,_HideNum,_indexArr);\r\n  //   }\r\n  // }\r\n  // //get ViData(editor version)\r\n  // public get_ViData(): object {\r\n  //   return this._ViData;\r\n  // }\r\n  // //set ViData(editor version)\r\n  // public set_ViData(_ViData): void {\r\n  //   this._ViData = _ViData;\r\n  // }\r\n  // //convert geojson to PuData(publish version)\r\n  // public LoadJSONData() {\r\n  //   if(this._jsonModel !== undefined&&this._jsonModel[\"cesium\"] !== undefined) {\r\n  //     const cesiumData = this._jsonModel[\"cesium\"];\r\n  //     let _ColorDescr: string;\r\n  //     let _ColorValue: string;\r\n  //     let _MinColor: number;\r\n  //     let _MaxColor: number;\r\n  //     let _ColorInvert: boolean;\r\n  //     let _HeightDescr: string;\r\n  //     const _HeightKey: any[] = [];\r\n  //     let _HeightValue: string;\r\n  //     let _MinHeight: number;\r\n  //     let _MaxHeight: number;\r\n  //     let _HeightInvert: boolean;\r\n  //     let _HeightScale: number;\r\n  //     let _HeightLine: boolean;\r\n  //     let _filters: any[];\r\n  //     const _ceisumData: any[] = [];\r\n  //     const _propertyNames: any[] = [];\r\n  //     const _HideNum: any[] = [];\r\n  //     const _indexArr: number[] = [];\r\n  //     if(cesiumData[\"colour\"] !== undefined) {\r\n  //       if(cesiumData[\"colour\"][\"descr\"] !== undefined) {\r\n  //         _ColorDescr = cesiumData[\"colour\"][\"descr\"];\r\n  //       }\r\n  //       if(cesiumData[\"colour\"][\"attribs\"] !== undefined) {\r\n  //         for(const data of cesiumData[\"colour\"][\"attribs\"]) {\r\n  //           _propertyNames.push(data[\"name\"]);\r\n  //         }\r\n  //         _ColorValue = _propertyNames[0];\r\n  //         _MinColor = cesiumData[\"colour\"][\"attribs\"][0][\"min\"];\r\n  //         _MaxColor = cesiumData[\"colour\"][\"attribs\"][0][\"max\"];\r\n  //         if(cesiumData[\"colour\"][\"attribs\"][0][\"invert\"] === true) {_ColorInvert = true;} else {_ColorInvert = false;}\r\n  //       }\r\n\r\n  //     }\r\n  //     if(cesiumData[\"extrude\"] !== undefined) {\r\n  //       if(cesiumData[\"extrude\"][\"descr\"] !== undefined) {\r\n  //         _HeightDescr = cesiumData[\"extrude\"][\"descr\"];\r\n  //       }\r\n  //       if(cesiumData[\"extrude\"][\"attribs\"] !== undefined) {\r\n  //         for(const data of cesiumData[\"extrude\"][\"attribs\"]) {\r\n  //           _HeightKey.push(data[\"name\"]);\r\n  //         }\r\n  //         _HeightValue = _HeightKey[0];\r\n  //         _MinHeight = cesiumData[\"extrude\"][\"attribs\"][0][\"min\"];\r\n  //         _MaxHeight = cesiumData[\"extrude\"][\"attribs\"][0][\"max\"];\r\n  //         if(cesiumData[\"extrude\"][\"attribs\"][0][\"invert\"] === true) {\r\n  //           _HeightInvert = true;} else {_HeightInvert = false;}\r\n  //         if(cesiumData[\"extrude\"][\"attribs\"][0][\"line\"] === true) {_HeightLine = true;} else {_HeightLine = false;}\r\n  //         if(cesiumData[\"extrude\"][\"attribs\"][0][\"scale\"] !== undefined) {\r\n  //           _HeightScale = cesiumData[\"extrude\"][\"attribs\"][0][\"scale\"];\r\n  //         } else {_HeightScale = 1;}\r\n  //       }\r\n  //     }\r\n  //     const promise = this.cesiumpromise;\r\n  //     const _Heighttexts = [];\r\n  //     const _Colortexts = [];\r\n  //     const self = this;\r\n  //     promise.then(function(dataSource) {\r\n  //       const entities = dataSource.entities.values;\r\n  //       for (const entity of entities) {\r\n  //         if(entity.properties[_HeightValue] !== undefined) {\r\n  //           if(entity.properties[_HeightValue]._value !== \" \") {\r\n  //             if(_Heighttexts.length === 0) {_Heighttexts[0] = entity.properties[_HeightValue]._value;\r\n  //             } else { if(_Heighttexts.indexOf(entity.properties[_HeightValue]._value) === -1) {\r\n  //               _Heighttexts.push(entity.properties[_HeightValue]._value);}\r\n  //             }\r\n  //           }\r\n  //         }\r\n  //         if(entity.properties[_ColorValue] !== undefined) {\r\n  //           if(entity.properties[_ColorValue]._value !== \" \") {\r\n  //             if(_Colortexts.length === 0) {_Colortexts[0] = entity.properties[_ColorValue]._value;\r\n  //             } else { if(_Colortexts.indexOf(entity.properties[_ColorValue]._value) === -1) {\r\n  //               _Colortexts.push(entity.properties[_ColorValue]._value);}\r\n  //             }\r\n  //           }\r\n  //         }\r\n  //         if(entity.polygon !== undefined) {\r\n  //           entity.polygon.outlineColor = Cesium.Color.Black;\r\n  //         }\r\n  //         if(entity.billboard !== undefined) {\r\n  //           entity.billboard = undefined;\r\n  //           entity.point = new Cesium.PointGraphics({\r\n  //             color: Cesium.Color.BLUE,\r\n  //             pixelSize: 10,\r\n  //           });\r\n  //         }\r\n  //         _indexArr.push(entities.indexOf(entity));\r\n  //       }\r\n  //     });\r\n  //     if(cesiumData[\"filters\"] !== undefined) {\r\n  //       _filters = cesiumData[\"filters\"];\r\n  //       let lastnumber: string;\r\n  //       this._Filter = [];\r\n  //       this._HideNum = [];\r\n  //       if(_filters !== undefined&&_filters.length !== 0) {\r\n  //         for(const _filter of _filters) {\r\n  //           if(this._HideNum.length === 0) {\r\n  //             this._HideNum[0] = \"0\";\r\n  //             lastnumber = this._HideNum[0];\r\n  //           } else {\r\n  //             for(let j = 0;j < this._HideNum.length + 1;j++) {\r\n  //               if(this._HideNum.indexOf(String(j)) === -1) {\r\n  //                 this._HideNum.push(String(j));\r\n  //                 lastnumber = String(j);\r\n  //                 break;\r\n  //               }\r\n  //             }\r\n  //           }\r\n  //           if(_filter[\"name\"] !== undefined) {\r\n  //             const _propertyname = _filter[\"name\"];\r\n  //             const _relation = Number(_filter[\"relation\"]);\r\n  //             const _text = _filter[\"value\"];\r\n  //             const _descr = _filter[\"descr\"];\r\n  //             let _HideType: string;\r\n  //             let _texts: any[];\r\n  //             if(typeof(_text) === \"number\") {\r\n  //               _HideType = \"number\";\r\n  //               _texts = this.Initial(_propertyname);\r\n  //             } else if(typeof(_text) === \"string\") {\r\n  //               _HideType = \"category\";\r\n  //               _texts = this.Initial(_propertyname);\r\n  //               _texts = [\"None\"].concat(_texts);\r\n  //             }\r\n  //             this._Filter.push({ divid:String(\"addHide\".concat(String(lastnumber))),id: lastnumber,\r\n  //                                 HeightHide:_propertyname,type:_HideType,Category:_texts,\r\n  //                                 CategaryHide:_text,descr:_descr,RelaHide:_relation,\r\n  //                                 textHide: _text,HideMax:Math.ceil(Math.max.apply(Math, _texts)),\r\n  //                                 HideMin:Math.floor(Math.min.apply(Math, _texts)*100)/100,Disabletext:null});\r\n  //           }\r\n  //         }\r\n  //       }\r\n  //     } else {this._Filter = [];this._HideNum = [];}\r\n  //     this.getPuData(_ColorDescr,_propertyNames,_Colortexts.sort(),_ColorValue,_MinColor,_MaxColor,_ColorInvert,\r\n  //                       _HeightDescr,_HeightKey,_Heighttexts.sort(),_HeightValue,_MinHeight,_MaxHeight,\r\n  //                       _HeightScale,_HeightInvert,_HeightLine,this._Filter,this._HideNum,_indexArr);\r\n\r\n  //   }\r\n\r\n  // }\r\n\r\n  // //get text for the certain property\r\n  // public  Initial(_HideValue: string): any[] {\r\n  //   const texts=[];\r\n  //   const promise = this.getcesiumpromise();\r\n  //   const self = this;\r\n  //   promise.then(function(dataSource) {\r\n  //     const entities = dataSource.entities.values;\r\n  //     for (const entity of entities) {\r\n  //       if(entity.properties[_HideValue] !== undefined) {\r\n  //         if(entity.properties[_HideValue]._value !== \" \") {\r\n  //           if(texts.length === 0) {texts[0] = entity.properties[_HideValue]._value;\r\n  //           } else { if(texts.indexOf(entity.properties[_HideValue]._value) === -1) {\r\n  //             texts.push(entity.properties[_HideValue]._value);}\r\n  //           }\r\n  //         }\r\n  //       }\r\n  //     }\r\n  //   });\r\n  //   return texts;\r\n  // }\r\n  // //get PuData\r\n  // public get_PuData(): object {\r\n  //   return this._PuData;\r\n  // }\r\n  // //set PuData\r\n  // public set_PuData(_PuData): void {\r\n  //   this._PuData = _PuData;\r\n  // }\r\n  // //create object of ViData\r\n  // public getViData(_ColorProperty: any[],_ColorText: any[],_ColorKey: string,\r\n  //                  _ColorMin: number,_ColorMax: number,_ColorInvert: boolean,\r\n  //                  _ExtrudeProperty: any[],_ExtrudeText: any[],_ExturdeValue: string,\r\n  //                  _ExtrudeMin: number,_ExtrudeMax: number,_Scale: number,_Invert: boolean,\r\n  //                  _HeightChart: boolean,_Filter: any[],_HideNum: number[],_indexArr: number[]) {\r\n  //   this._ViData = {ColorProperty:_ColorProperty,ColorText:_ColorText,ColorKey:_ColorKey,\r\n  //                   ColorMin:_ColorMin,ColorMax:_ColorMax,ColorInvert:_ColorInvert,\r\n  //                   ExtrudeProperty:_ExtrudeProperty,ExtrudeText:_ExtrudeText,ExtrudeKey:_ExturdeValue,\r\n  //                   ExtrudeMin:_ExtrudeMin,ExtrudeMax:_ExtrudeMax,Scale:_Scale,Invert:_Invert,\r\n  //                   HeightChart:_HeightChart,Filter:_Filter,HideNum:_HideNum,indexArr:_indexArr};\r\n  // }\r\n  // //create object of PuData\r\n  // public getPuData(_ColorDescr: string,_ColorProperty: any[],_ColorText: any[],_ColorKey: string,\r\n  //                  _ColorMin: number,_ColorMax: number,_ColorInvert: boolean,\r\n  //                  _ExtrudeDescr: string,_ExtrudeProperty: any[],_ExtrudeText: any[],\r\n  //                  _ExturdeValue: string,_ExtrudeMin: number,_ExtrudeMax: number,_Scale: number,_Invert: boolean,\r\n  //                  _HeightChart: boolean,_Filter: any[],_HideNum: number[],_indexArr: number[]) {\r\n  //   this._PuData = {ColorDescr:_ColorDescr,ColorProperty:_ColorProperty,ColorText:_ColorText,\r\n  //                   ColorKey:_ColorKey,ColorMin:_ColorMin,ColorMax:_ColorMax,ColorInvert:_ColorInvert,\r\n  //                   ExtrudeDescr:_ExtrudeDescr,ExtrudeProperty:_ExtrudeProperty,ExtrudeText:_ExtrudeText,\r\n  //                   ExtrudeKey:_ExturdeValue,ExtrudeMin:_ExtrudeMin,ExtrudeMax:_ExtrudeMax,\r\n  //                   Scale:_Scale,Invert:_Invert,HeightChart:_HeightChart,Filter:_Filter,HideNum:_HideNum,indexArr:_indexArr};\r\n  // }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mobius-cesium/data/data.service.ts","import { Injectable } from \"@angular/core\";\r\nimport {Observable} from \"rxjs\";\r\nimport {Subject} from \"rxjs/Subject\";\r\nimport * as chroma from \"chroma-js\";\r\nimport proj4 from \"proj4\";\r\nimport * as earcut from \"earcut\";\r\nimport { CesiumGeomService } from \"./cesiumGeom.service\";\r\nimport { DataService } from \"./data.service\";\r\n\r\n@Injectable()\r\nexport class CityGMLService {\r\n  private subject = new Subject<any>();\r\n  private epsg: any;\r\n  private currProps: object;\r\n  private objCount: object;\r\n  private rules: any;\r\n  private keys: string[];\r\n\r\n  constructor(private cesiumGeomService: CesiumGeomService, private dataService: DataService) {}\r\n \r\n  public sendMessage(message?: string) {\r\n    this.subject.next({text: message});\r\n  }\r\n  public clearMessage() {\r\n    this.subject.next();\r\n  }\r\n  public getMessage(): Observable<any> {\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  /* Reads and sets EPSG value for Proj4 projection\r\n     - looks up epsg.io if EPSG code is found\r\n     - defaults to EPSG:3414 if undefined\r\n\r\n     ** TODO: reads crs from citymodel envelope, need to confirm if this is intended behaviour */\r\n  public setEPSG(crs): void {\r\n    this.epsg = new Promise(function(resolve) {\r\n      let val = \"\";\r\n      if (crs === undefined) {\r\n      // if undefined, default is EPSG 3414 sweats (WGS84 causes our models to go crazy, with EPSG 3414 they at least show up)\r\n        val = \"+proj=tmerc +lat_0=1.366666666666667 +lon_0=103.8333333333333 +k=1 +x_0=28001.642 +y_0=38744.572 +ellps=WGS84 +units=m +no_defs\";\r\n        resolve(val);\r\n      } else {\r\n        // search EPSG.io\r\n        const url = \"https://epsg.io/\"+crs+\".proj4\";\r\n\r\n        const xhttp = new XMLHttpRequest();\r\n        xhttp.onload = function() {\r\n          if (xhttp.readyState === 4 && xhttp.status === 200) {\r\n            val = xhttp.responseText;\r\n            if (val === undefined) {\r\n              val = \"+proj=tmerc +lat_0=1.366666666666667 +lon_0=103.8333333333333 +k=1 +x_0=28001.642 +y_0=38744.572 +ellps=WGS84 +units=m +no_defs\";\r\n            }\r\n            resolve(val);\r\n          }\r\n        };\r\n        xhttp.open(\"GET\", url, true);\r\n        xhttp.send();\r\n      }\r\n    });\r\n  }\r\n\r\n  public clearEPSG(): void {\r\n    this.epsg = undefined;\r\n  }\r\n\r\n  /* Projects input point to WGS84\r\n     Params: Array of coordinates for 1 point as obtained from file\r\n     Returns: Array of coordinates for point in WGS84 + height\r\n\r\n     ** TODO: SG's height datum? */\r\n  public projectPtsToWGS84(coords): number[] {\r\n    const projcoords = proj4(this.epsg,\"WGS84\",[coords[0],coords[1]]);\r\n    const newcoords = [(projcoords[0]),(projcoords[1]),(coords[2])];\r\n    if (this.epsg === \"+proj=tmerc +lat_0=1.366666666666667 +lon_0=103.8333333333333 +k=1 +x_0=28001.642 +y_0=38744.572 +ellps=WGS84 +units=m +no_defs\") {\r\n      // newcoords[2] -= 104;\r\n    }\r\n    return newcoords;\r\n  }\r\n\r\n  /* Generates surfaces from an element as a group\r\n     - Obtains coordinates and properties for all \"Triangle\" and \"Polygon\" surfaces in the element\r\n     - Calls cesiumGeomService to generate entities\r\n     Params: XML node for an element that contains surfaces to generate (eg. WallSurface / Room)\r\n             Name of node (to be used as surface type for properties)\r\n     Uses: - nextElement\r\n           - getCoords\r\n           - cesiumGeomService.genSolidGrouped */\r\n  public genPoly(srf,props,srf_type): void {\r\n    while (srf !== null && srf.nodeName.split(\":\")[1] !== \"surfaceMember\") {\r\n      srf = this.nextElement(srf.firstChild);\r\n    }\r\n    const solid = [];\r\n    // loop through all surfaces in element\r\n    while (srf !== null) {\r\n      // get first Triangle or Polygon (depends on what the CityGML is using)\r\n      let firstSrf = srf;\r\n      while (firstSrf !== null && (firstSrf.nodeName.split(\":\")[1] !== \"Triangle\") && (firstSrf.nodeName.split(\":\")[1] !== \"Polygon\"))  {\r\n        firstSrf = this.nextElement(firstSrf.firstChild);\r\n      }\r\n      if (firstSrf === null) {\r\n        srf = this.nextElement(srf.nextSibling);\r\n        break;\r\n      }\r\n      // if Triangle, step into first child (exterior linear ring) and get coords\r\n      // loop through all other triangles in surface\r\n      if (firstSrf.nodeName.split(\":\")[1] === \"Triangle\") {\r\n        while (firstSrf !== null) {\r\n          const poly = this.nextElement(firstSrf.firstChild);\r\n          solid.push(this.getCoords(poly));\r\n          firstSrf = this.nextElement(firstSrf.nextSibling);\r\n        }\r\n      }\r\n      // if Polygon, step into first child (exterior linear ring) and get coords\r\n      else if (firstSrf.nodeName.split(\":\")[1] === \"Polygon\") {\r\n        firstSrf = this.nextElement(firstSrf.firstChild);\r\n        solid.push(this.getCoords(firstSrf));\r\n      }\r\n      // extract and convert all coordinates for surface and push to solid\r\n      srf = this.nextElement(srf.nextSibling);\r\n    }\r\n    // console.log(solid);\r\n    this.cesiumGeomService.genSolidGrouped(solid,undefined,props,srf_type);\r\n  }\r\n\r\n  /* Obtains and prepares coordinates from the linear rings that make up ONE Triangle or Polygon\r\n     - Also handles holes in polygons\r\n     - First linear ring is exterior ring, subsequent are holes\r\n     - Coordinates should be in \"pos\" or \"posList\" with dimension \"3\"\r\n     Params: XML node for an element that contains coordinates\r\n     Returns: Array of linear rings (eg. [ [[0,0,0],[0,0,1],[0,1,1],[0,0,0]] , [[0,0.2,0.2],[0,0.2,0.8],[0,0.8,0.8],[0,0.2,0.2]])\r\n     Uses: - nextElement\r\n           - projectPtsToWGS84 */\r\n  public getCoords(node): any {\r\n    const polygon = [];\r\n    let dimension: string;\r\n    let coordinates: string;\r\n    let coordsplit: string[];\r\n    // Loop through Linear rings\r\n    while (node !== null) {\r\n      // get coordinates\r\n      let coords = this.nextElement(node.firstChild);\r\n      while ((coords.nodeName.split(\":\")[1] !== \"LinearRing\"))  {\r\n        coords = this.nextElement(coords.firstChild);\r\n      }\r\n      coords = this.nextElement(coords.firstChild);\r\n      // if positions are in posList, split and project to wgs84 in threes, then push to polygon\r\n      if (coords.nodeName.split(\":\")[1] === \"posList\") {\r\n        // get dimension if present, else default to \"3\"\r\n        if (coords.getAttribute(\"srsDimension\") !== null) {\r\n          dimension = coords.getAttribute(\"srsDimension\");\r\n        } else {\r\n          dimension = \"3\";\r\n        }\r\n        coordinates = coords.textContent;\r\n        // replace linebreaks with spaces if any\r\n        coordinates = coordinates.replace(/\\n/g, \" \");\r\n        // split coordinates by \" \", convert to number from string and project to wgs84\r\n        coordsplit = coordinates.split(\" \");\r\n        const coord_arr: number[][] = [];\r\n        if (dimension === \"3\") {\r\n          for (let i = 0 ; i < coordsplit.length ; i = i + 3) {\r\n            const arr = this.projectPtsToWGS84([(Number(coordsplit[i])),(Number(coordsplit[i+1])),(Number(coordsplit[i+2]))]);\r\n            coord_arr.push(arr);\r\n          }\r\n        }\r\n        // else if (dimension === \"2\") {\r\n        //   for (let i = 0 ; i < coordsplit.length ; i = i + 2) {\r\n        //     const arr = this.projectPtsToWGS84([(Number(coordsplit[i])),(Number(coordsplit[i+1])),0]);\r\n        //     coord_arr.push(arr);\r\n        //   }\r\n        // }\r\n        polygon.push(coord_arr);\r\n        // if positions are in pos, loop through, split and project each one to wgs84, then push to polygon\r\n      } else if (coords.nodeName.split(\":\")[1] === \"pos\") {\r\n        const coord_arr: number[][] = [];\r\n        while (coords !== null) {\r\n          coordinates = coords.textContent;\r\n          // split coordinates by \" \", convert to number from string and project to wgs84\r\n          coordsplit = coordinates.split(\" \");\r\n          const arr = this.projectPtsToWGS84([(Number(coordsplit[0])),(Number(coordsplit[1])),(Number(coordsplit[2]))]);\r\n          coord_arr.push(arr);\r\n          coords = this.nextElement(coords.nextSibling);\r\n        }\r\n        polygon.push(coord_arr);\r\n      }\r\n      node = this.nextElement(node.nextSibling);\r\n    }\r\n    return polygon;\r\n  }\r\n\r\n  /* Finds the next sibling node that is an element\r\n     Params: XML node to check\r\n     Returns: XML node for next element if found, null if not found */\r\n  public nextElement(node): any {\r\n    // if node is null, return null.\r\n    if (node === null) {\r\n      return null;\r\n    }\r\n    // Loops through siblings untill an element is found\r\n    // If siblings end up returning null, return null.\r\n    while (node.nodeType !== 1) {\r\n      node = node.nextSibling;\r\n      if (node === null) {\r\n        return null;\r\n      }\r\n    }\r\n    return node;\r\n  }\r\n\r\n  /* Gets the name of the given node, excluding namespace prefix if any\r\n     Params: XML node to get name of\r\n     Returns: Name of node without prefix */\r\n  public getName(node): string {\r\n    const split = node.nodeName.split(\":\");\r\n    const nodename = split[split.length - 1];\r\n    return nodename;\r\n  }\r\n\r\n  // Checks the cityModel and extracts EPSG if any and excludes appearanceMember\r\n  public checkCityModel(node): any {\r\n    const nodes = [];\r\n    const citymodel_props = {};\r\n    const citymodel_ade = {};\r\n    while (node !== null) {\r\n      const nodename = this.getName(node);\r\n      // extract name\r\n      if (nodename === \"name\") {\r\n        const name = node.textContent;\r\n        citymodel_props[nodename] = name;\r\n      }\r\n      // extract envelope\r\n      else if (nodename === \"boundedBy\") {\r\n        // extract crs\r\n        const envelope = this.nextElement(node.firstChild);\r\n        if (envelope != null) {\r\n          citymodel_props[\"srsName\"] = envelope.getAttribute(\"srsName\");\r\n          let srs : String[];\r\n          srs = (envelope.getAttribute(\"srsName\")).split(\",\");\r\n          srs = srs[1].split(\":\");\r\n          const epsg = srs[srs.length-1];\r\n          this.setEPSG(epsg);\r\n        }\r\n        // extract pos - TODO\r\n      }\r\n      // extract list of cityobjectmember and featuremember\r\n      else if (nodename === \"cityObjectMember\" ||\r\n                 nodename === \"featureMember\") {\r\n        nodes.push(this.nextElement(node.firstChild));\r\n      }\r\n      // skip appearanceMember\r\n      else if (nodename === \"appearanceMember\"){}\r\n      // extract everything else\r\n      else {\r\n        this.addProperties(node,citymodel_ade);\r\n      }\r\n      node = this.nextElement(node.nextSibling);\r\n    }\r\n    // console.log(nodes,citymodel_props,citymodel_ade);\r\n    return [nodes, {\"cityModel properties\":citymodel_props, \"cityModel ADE properties\":citymodel_ade}] ;\r\n  }\r\n\r\n  /* Checks each node in input array against arrays of node names (this.rules).\r\n     Updates properties and performs additional checks or generates geometry according to rules\r\n     Params: Array of nodes to check\r\n             Object containing properties objects accumulated so far\r\n\r\n      *** RECURSIVE *** */\r\n  public check(nodes, props): void {\r\n    let match = false;\r\n    for (let node of nodes) {\r\n      // create new variables\r\n      const check_nodes = [];\r\n      const gen_nodes = [];\r\n      const new_props = [];\r\n      const new_ade = [];\r\n      const node_name = this.getName(node);\r\n      let sibling_name = node_name;\r\n\r\n      if (node_name === \"Building\") {\r\n        this.objCount = {};\r\n      }\r\n\r\n      if (node_name === \"Building\" ||\r\n          node_name === \"BuildingPart\" ||\r\n          node_name === \"Storey\") {\r\n        this.addObjCount(node_name);\r\n        new_props[node_name] = this.objCount[node_name];\r\n      }\r\n\r\n      node = this.nextElement(node.firstChild);\r\n      while (node !== null) {\r\n        match = false;\r\n        // update sibling_name\r\n        sibling_name = this.getName(node);\r\n        // check\r\n        const action_arr = this.rules[sibling_name];\r\n        // console.log(sibling_name, action_arr);\r\n        if (action_arr !== undefined) {\r\n          for (let action of action_arr) {\r\n            if (action === \"check\") {\r\n              const child = this.nextElement(node.firstChild);\r\n              if (child !== null) {\r\n                check_nodes.push(child);\r\n              }\r\n              match = true;\r\n            }\r\n            if (action === \"prop\") {\r\n              this.addProperties(node,new_props);\r\n              match = true;\r\n            }\r\n            if (action === \"geom\") {\r\n              const child = this.nextElement(node.firstChild);\r\n              if (child !== null) {\r\n                new_props[\"Surface_Type\"] = node_name;\r\n                gen_nodes.push(child);\r\n              }\r\n              match = true;\r\n            }\r\n            if (match === false) {\r\n              if (action === \"skip\") {\r\n                match = true;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        // ADE\r\n        if (match === false) {\r\n          this.addProperties(node,new_ade);\r\n        }\r\n        node = this.nextElement(node.nextSibling);\r\n      }\r\n\r\n      // duplicate props and add properties from current node\r\n      let updated_props = Object.assign({}, props);\r\n      const add_props = {}\r\n      add_props[node_name + \" properties\"] = new_props;\r\n      add_props[node_name + \" ADE properties\"] = new_ade;\r\n      updated_props = Object.assign(updated_props, add_props);\r\n\r\n      // check and gengeom\r\n      if (check_nodes.length > 0) {\r\n        this.check(check_nodes, updated_props);\r\n      }\r\n      if (gen_nodes.length > 0) {\r\n        for (let srf of gen_nodes) {;\r\n          this.genPoly(srf,updated_props,node_name);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /* Adds all leaf nodes of specified node as key:value pair in specified properties object\r\n     Params: Node to check and add to properties\r\n             Object to add key:value pairs to (alters input)\r\n\r\n     *** RECURSIVE *** */\r\n  public addProperties(node,prop): void {\r\n    if (node === null) {\r\n      return;\r\n    }\r\n    const name = this.getName(node);\r\n    if (node.innerHTML === node.textContent) {\r\n      prop[name] = node.textContent;\r\n    }\r\n    let child = this.nextElement(node.firstChild);\r\n    while (child !== null) {\r\n      this.addProperties(child,prop);\r\n      child = this.nextElement(child.nextSibling);\r\n    }\r\n  }\r\n\r\n  /* Updates counter for cityObjectMember/featureMember/Building/BuildingPart\r\n     - adds new counter if not already present\r\n     Params: name of counter to update (cityObjectMember/featureMember/Building/BuildingPart)*/\r\n  private addObjCount(prop): void {\r\n    // if prop doesn't exist, add it\r\n    if (this.objCount[prop] === undefined) {\r\n      this.objCount[prop] = 0;\r\n    }\r\n    // if it already exists then ++\r\n    else {\r\n      this.objCount[prop]++;\r\n    }\r\n  }\r\n\r\n\r\n  /* Main function to read file and return datasource containing generated entities\r\n     - Initialises, retrieves and clears data from cesiumGeomService\r\n     Called in viewer.component LoadData\r\n     Params: CityGML file\r\n     Returns: Cesium datasource containing entities generated from input file */\r\n  public genGeom(file): any {\r\n    let data = undefined;\r\n    if (file !== undefined) {\r\n      // Initialise dataSource and surface type ID arrays\r\n      this.cesiumGeomService.initialiseCesium();\r\n      this.objCount = {};\r\n      this.currProps = {};\r\n      this.rules = this.dataService.getRules();\r\n      // this.rules = {\r\n      //               \"check\": [\"consistsOfBuildingPart\",\"buildingSubdivision\",\"outerBuildingInstallation\",\"boundedBy\",\"boundary\",\"interiorRoom\",\"opening\"],\r\n      //               \"property\": [\"name\",\"creationDate\",\"externalReference\",\"function\",\"measuredHeight\",\"address\"],\r\n      //               \"geom\": [\"lod2MultiSurface\",\"lod3MultiSurface\",\"lod4MultiSurface\",\"lod1Geometry\",\"lod2Geometry\",\"lod3Geometry\",\"lod4Geometry\",\"lod1Solid\"],\r\n      //               \"skip\": []\r\n      //             };\r\n\r\n      // Get properties of CityModel\r\n      const member = this.nextElement(this.nextElement(file.firstChild).firstChild);\r\n      const nodes = this.checkCityModel(member);\r\n\r\n      if (this.epsg === undefined) {\r\n        this.setEPSG(undefined);\r\n      }\r\n      const context = this;\r\n      data = this.epsg.then((epsg) => {\r\n        context.epsg = epsg;\r\n        context.check(nodes[0],nodes[1]);\r\n        context.cesiumGeomService.resumeDataSource();\r\n        context.clearEPSG();\r\n        return context.cesiumGeomService.getDataSource();\r\n      });\r\n    }\r\n    return data;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mobius-cesium/data/readCityGML.service.ts","import { Injectable } from \"@angular/core\";\r\nimport {Observable} from \"rxjs\";\r\nimport {Subject} from \"rxjs/Subject\";\r\nimport * as chroma from \"chroma-js\";\r\nimport proj4 from \"proj4\";\r\nimport * as earcut from \"earcut\";\r\nimport { CesiumGeomService } from \"./cesiumGeom.service\";\r\n\r\n@Injectable()\r\nexport class CityJSONService {\r\n  private subject = new Subject<any>();\r\n  private file: JSON;\r\n  private epsg: any;\r\n  private vertices: any;\r\n  private materials: any;\r\n  private templates: any;\r\n  private template_vertices: any;\r\n  private scale: number[];\r\n  private translate: number[];\r\n\r\n  constructor(private cesiumGeomService: CesiumGeomService) {}\r\n \r\n  public sendMessage(message?: string) {\r\n    this.subject.next({text: message});\r\n  }\r\n  public clearMessage() {\r\n    this.subject.next();\r\n  }\r\n  public getMessage(): Observable<any> {\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  /* Clears stored data after file has been completely generated */\r\n  private clearData(): void {\r\n    this.file = undefined;\r\n    this.epsg = undefined;\r\n    this.vertices = undefined;\r\n    this.materials = undefined;\r\n    this.templates = undefined;\r\n    this.template_vertices = undefined;\r\n    this.scale = undefined;\r\n    this.translate = undefined;\r\n  }\r\n\r\n  /* Reads and sets EPSG value for Proj4 projection\r\n     - looks up epsg.io if EPSG code is found\r\n     - defaults to EPSG:3414 if undefined*/\r\n  private setEPSG(): void {\r\n    const meta = this.file[\"metadata\"];\r\n    this.epsg = new Promise(function(resolve) {\r\n      let val = \"\";\r\n      if (meta[\"crs\"] === undefined || meta[\"crs\"][\"epsg\"] === undefined) {\r\n      // if undefined, default is EPSG 3414 sweats (WGS84 causes our models to go crazy, with EPSG 3414 they at least show up)\r\n        val = \"+proj=tmerc +lat_0=1.366666666666667 +lon_0=103.8333333333333 +k=1 +x_0=28001.642 +y_0=38744.572 +ellps=WGS84 +units=m +no_defs\";\r\n        resolve(val);\r\n      } else {\r\n        // search EPSG.io\r\n        const url = \"https://epsg.io/\"+meta[\"crs\"][\"epsg\"]+\".proj4\";\r\n\r\n        const xhttp = new XMLHttpRequest();\r\n        xhttp.onload = function() {\r\n          if (xhttp.readyState === 4 && xhttp.status === 200) {\r\n            val = xhttp.responseText;\r\n            if (val === undefined) {\r\n              val = \"+proj=tmerc +lat_0=1.366666666666667 +lon_0=103.8333333333333 +k=1 +x_0=28001.642 +y_0=38744.572 +ellps=WGS84 +units=m +no_defs\";\r\n            }\r\n            resolve(val);\r\n          }\r\n        };\r\n        xhttp.open(\"GET\", url, true);\r\n        xhttp.send();\r\n      }\r\n    });\r\n  }\r\n\r\n  /* Reads and sets shared vertices for regular geometry (not geometry templates) */\r\n  private setVertices(): void {\r\n    if (this.file[\"vertices\"] !== undefined) {\r\n      this.vertices = this.file[\"vertices\"];\r\n    }\r\n  }\r\n\r\n  /* Reads and converts materials into cesium color properties */\r\n  private setMaterials(): void {\r\n    const materials = [];\r\n    if (this.file[\"appearance\"] === undefined || this.file[\"appearance\"][\"materials\"] == undefined) {\r\n      this.materials = undefined;\r\n    } else {\r\n      this.file[\"appearance\"][\"materials\"].forEach((mat) => {\r\n      const color = mat[\"diffuseColor\"];\r\n      color.push(mat[\"transparency\"]);\r\n      materials.push(new Cesium.Color(...color));\r\n    });\r\n    this.materials = materials;\r\n    }\r\n  }\r\n\r\n  /* Reads and sets geometry templates and shared vertices (geometry templates) */\r\n  private setTemplates(): void {\r\n    if (this.file[\"geometry-templates\"] === undefined) {\r\n      this.templates = undefined;\r\n    } else {\r\n      const templates = [];\r\n      if (this.file[\"geometry-templates\"][\"templates\"] !== undefined) {\r\n        this.file[\"geometry-templates\"][\"templates\"].forEach((temp) => {\r\n          if (temp.lod < 3) {\r\n            templates.push(undefined);\r\n          } else {\r\n            templates.push(temp);\r\n          }\r\n        });\r\n      }\r\n      if (this.file[\"geometry-templates\"][\"vertices-templates\"] !== undefined) {\r\n        this.template_vertices = this.file[\"geometry-templates\"][\"vertices-templates\"];\r\n      }\r\n      this.templates = templates;\r\n    }\r\n    \r\n  }\r\n\r\n  /* Reads and sets translation and scale for transformaing model from compressed values */\r\n  private setTransform(): void {\r\n    if (this.file[\"transform\"] !== undefined) {\r\n      this.scale = this.file[\"transform\"].scale;\r\n      this.translate = this.file[\"transform\"].translate;\r\n    } else {\r\n      this.scale = undefined;\r\n      this.translate = undefined;\r\n    }\r\n  }\r\n\r\n  /* Projects input point to WGS84\r\n     Params: Array of coordinates for 1 point as obtained from file\r\n     Returns: Array of coordinates for point in WGS84 + height */\r\n  private projectPtsToWGS84(coords): number[] {\r\n    const projcoords = proj4(this.epsg,\"WGS84\",[coords[0],coords[1]]);\r\n    const newcoords = [projcoords[0],projcoords[1],coords[2]];\r\n    return newcoords;\r\n  }\r\n\r\n  /* Transformaing template point from local coords to coords in model\r\n     Params: Array of coordinates for 1 point as obtained from geometry template\r\n     Returns: Array of coordinates for point in intended position in model */\r\n  private transformTemplate(coord,transform): number[] {\r\n    const pt = Cesium.Cartesian3.fromArray(coord);\r\n    const t = Cesium.Matrix4.multiplyByPoint(transform.temp_matrix,pt,new Cesium.Cartesian3());\r\n    const coord2 = [(t[\"x\"]+transform.refpt[0]),(t[\"y\"]+transform.refpt[1]),(t[\"z\"]+transform.refpt[2])];\r\n    return coord2;\r\n  }\r\n\r\n  /* Transformaing point from compressed values to intended values\r\n     Params: Array of coordinates for 1 point as obtained from file\r\n     Returns: Array of coordinates for point in intended position in model before compression */\r\n  private transformCityJSON(coord): number[] {\r\n    const pt = [undefined,undefined,undefined];\r\n    pt[0] = (coord[0] * this.scale[0]) + this.translate[0];\r\n    pt[1] = (coord[1] * this.scale[1]) + this.translate[1];\r\n    pt[2] = (coord[2] * this.scale[2]) + this.translate[2];\r\n    return pt;\r\n  }\r\n\r\n  /* Main function to read file and return datasource containing generated entities\r\n     - Initialises, retrieves and clears data from cesiumGeomService\r\n     Called in viewer.component LoadData\r\n     Params: CityJSON file\r\n     Returns: Cesium datasource containing entities generated from input file */\r\n  public genGeom(file: JSON): any {\r\n    let data = undefined;\r\n    if (file !== undefined) {\r\n      this.file = file;\r\n      file = null;\r\n      if (this.file[\"metadata\"] !== undefined) {\r\n        this.setEPSG();\r\n        this.setVertices();\r\n        this.setMaterials();\r\n        this.setTemplates();\r\n        this.setTransform();\r\n\r\n        // Initialise dataSource and surface type ID arrays\r\n        this.cesiumGeomService.initialiseCesium();\r\n\r\n        const context = this;\r\n        data = this.epsg.then((epsg) => {\r\n          context.epsg = epsg;\r\n          context.readFile();\r\n          context.clearData();\r\n          context.cesiumGeomService.resumeDataSource();\r\n          return context.cesiumGeomService.getDataSource();\r\n        });\r\n      }\r\n    }\r\n    return data;\r\n  }\r\n\r\n  /* Reads file and calls cesiumGeomService\r\n     - obtains and prepares coordinates and properties\r\n     - passes data to cesiumGeomService to generate entities */\r\n  private readFile(): void {\r\n    // Loop through CityObjects\r\n    const city_object_keys = Object.keys(this.file[\"CityObjects\"]);\r\n    const city_object = this.file[\"CityObjects\"];\r\n    this.file = undefined;\r\n    for (let obj_index = city_object_keys.length - 1 ; obj_index >= 0  ; obj_index --) {\r\n      const obj =  city_object[city_object_keys[obj_index]];\r\n\r\n      // Get object type if type is BuildingPart or BuildingInstallation, skip because we'll reference it from a building.\r\n      const cityobj_type = obj.type;\r\n      if (cityobj_type === \"BuildingPart\" || cityobj_type === \"BuildingInstallation\") {\r\n        continue;\r\n      }\r\n\r\n      // Get object attributes\r\n      const cityobj_attrib = obj.attributes;\r\n\r\n      // Get object parts & installations\r\n      const cityobj_parts_ID = [];\r\n      if (obj.Parts !== undefined) {\r\n        cityobj_parts_ID.push(...obj.Parts);\r\n      }\r\n      if (obj.Installations !== undefined) {\r\n        cityobj_parts_ID.push(...obj.Installations);\r\n      }\r\n      const cityobj_parts_geom = [];\r\n      const cityobj_parts_attrib = [];\r\n      const cityobj_parts_type = [];\r\n      if (cityobj_parts_ID !== undefined) {\r\n        cityobj_parts_ID.forEach((ID) => {\r\n          cityobj_parts_geom.push(...city_object[ID].geometry);\r\n          cityobj_parts_attrib.push(city_object[ID].attributes);\r\n          cityobj_parts_type.push(city_object[ID].type);\r\n        });\r\n      }\r\n\r\n      const all_geom = obj.geometry.concat(cityobj_parts_geom);\r\n\r\n      let parts_start = obj.geometry.length;\r\n      let parts_index = 0;\r\n\r\n      // Loop through geometry (typically used for different LOD but not necessarily, may contain multiple)\r\n      for (let geom_index = all_geom.length - 1 ; geom_index >= 0  ; geom_index--) {\r\n        const geom = all_geom[geom_index];\r\n        if (geom == undefined) {\r\n          continue;\r\n        }\r\n\r\n        // Check LOD\r\n        let lod = geom.lod;\r\n        // if (lod !== undefined && lod < 3) {\r\n        //   continue;\r\n        // }\r\n\r\n        // Set values to use for polygon generation\r\n        //   vertex_arr: array of vertices in the file to refer to (vertices or template_vertices)\r\n        //   boundaries: array of vertex position indexes to refer to (boundaries from geometry or template)\r\n        //   transfrom: object containing transformation matrix (temp_matrix) and reference point (refpt) of the geometry instance\r\n        let vertex_arr = this.vertices;\r\n        let boundaries = geom.boundaries;\r\n        let transform = {temp_matrix:undefined, refpt:undefined};\r\n\r\n        // Check geometry type\r\n        let geom_type = geom.type;\r\n        if (geom_type === \"GeometryInstance\") {\r\n          if (this.templates[geom.template] !== undefined) {\r\n            vertex_arr = this.template_vertices;\r\n            boundaries = this.templates[geom.template].boundaries;\r\n            geom_type = this.templates[geom.template].type;\r\n            lod = this.templates[geom.template].lod;\r\n            transform.temp_matrix = Cesium.Matrix4.fromArray(geom.transformationMatrix);\r\n            transform.refpt = this.vertices[geom.boundaries[0]];\r\n          }\r\n        }\r\n\r\n        if (boundaries === undefined) {\r\n          continue;\r\n        }\r\n\r\n        // Pull out array of semantics values & surfaces\r\n        let values: any;\r\n        let surfaces: any;\r\n        if (geom[\"semantics\"] !== undefined) {\r\n          values = geom[\"semantics\"][\"values\"];\r\n          surfaces = geom[\"semantics\"][\"surfaces\"];\r\n        }\r\n\r\n        // Pull out materials values\r\n        let mats: any;\r\n        if (geom[\"material\"] !== undefined) {\r\n          mats = geom[\"material\"][\"\"][\"values\"];\r\n        }\r\n\r\n        // // Loop through surfaces\r\n        for (let srf_index = 0 ; srf_index < boundaries.length ; srf_index ++) {\r\n          if (boundaries[srf_index][0] === undefined) {\r\n            continue;\r\n          }\r\n\r\n          // Extract surface type and materials\r\n          let surface_type = [\"None\"];\r\n          const colour = [];\r\n          if (geom_type === \"MultiSurface\") {\r\n            if (values !== undefined && values[srf_index] !== null && values[srf_index] !== undefined) {\r\n              surface_type = [(surfaces[values[srf_index]][\"type\"])];\r\n            }\r\n            if (mats !== undefined) {\r\n              colour.push(this.materials[mats[srf_index]]);\r\n            }\r\n          } else if (geom_type === \"Solid\") {\r\n            surface_type = [];\r\n            if (values !== undefined && values[srf_index] !== null && values[srf_index] !== undefined) {\r\n              values[srf_index].forEach((value) => {\r\n                surface_type.push(surfaces[value][\"type\"]);\r\n              });\r\n            }\r\n            if (mats !== undefined) {\r\n              mats[srf_index].forEach((value) => {\r\n                colour.push(this.materials[value]);\r\n              });\r\n            }\r\n          }\r\n\r\n          // Create property bag (with parent information if obj is building part)\r\n          const props = { \"Surface Properties\" : {Object_ID: city_object_keys[obj_index],\r\n                                                  Object_Type: cityobj_type,\r\n                                                  Geom_Type: geom_type,\r\n                                                  Surface_Type: surface_type[0],\r\n                                                  LOD: lod\r\n                                                 },\r\n                          \"Parent Properties\" : {Parent_ID: \"None\",\r\n                                                 Parent_Type: \"None\"}\r\n                        };\r\n          if (geom_index >= parts_start) {\r\n            props[\"Surface Properties\"].Object_ID = cityobj_parts_ID[parts_index];\r\n            props[\"Surface Properties\"].Object_Type = cityobj_parts_type[parts_index];\r\n            props[\"Parent Properties\"].Parent_ID = city_object_keys[obj_index];\r\n            props[\"Parent Properties\"].Parent_Type = cityobj_type;\r\n          }\r\n          if (props[\"Surface Properties\"].Surface_Type === undefined) {\r\n            props[\"Surface Properties\"].Surface_Type = \"None\"\r\n          }\r\n\r\n          // Add attributes from parent to properties\r\n          if (cityobj_attrib !== undefined) {\r\n            Object.keys(cityobj_attrib).forEach((name) => {\r\n              props[\"Parent Properties\"][name] = cityobj_attrib[name];\r\n            });\r\n          }\r\n\r\n          // Add attributes from parent to properties\r\n          if (cityobj_parts_attrib[parts_index] !== undefined) {\r\n            Object.keys(cityobj_parts_attrib[parts_index]).forEach((name) => {\r\n              props[\"Parent Properties\"][name] = cityobj_parts_attrib[parts_index][name];\r\n            });\r\n          }\r\n///////////////////////////////// Geom Generation, TODO: better geom_type management //////////////////////////////////////\r\n///////// MULTISURFACE\r\n          if (geom_type === \"MultiSurface\") {\r\n            // polygon: nested array of coordinates that make up a polygon.\r\n            // polygon[0] contains the points for the outer ring.\r\n            // polygon[1]... contain the points for the holes.\r\n            const polygon = [];\r\n            boundaries[srf_index].forEach((ring) => {\r\n              const ringpts = [];\r\n              ring.forEach((ID) => {\r\n                let coord = vertex_arr[ID];\r\n                // if object is a geometry instance, multiply by transformation matrix and add reference point\r\n                if (transform.refpt !== undefined) {\r\n                  coord = this.transformTemplate(coord,transform);\r\n                }\r\n                // transform coordinates if transform specification exists in file\r\n                if (this.scale !== undefined) {\r\n                  coord = this.transformCityJSON(coord);\r\n                }\r\n                // project to wgs84\r\n                coord = this.projectPtsToWGS84(coord);\r\n                ringpts.push(coord);\r\n              });\r\n              polygon.push(ringpts);\r\n            });\r\n            // create polygon in Cesium\r\n            this.cesiumGeomService.genMultiPoly(polygon,colour[0],props);\r\n            // i++ \r\n          } \r\n///////// SOLIDS\r\n          else if (geom_type === \"Solid\") {\r\n            const solid = [];\r\n            boundaries[srf_index].forEach((shell) => {\r\n              const polygon = [];\r\n              shell.forEach((ring) => {\r\n                const ringpts = [];\r\n                ring.forEach((ID) => {\r\n                  let coord = vertex_arr[ID];\r\n                  // if object is a geometry instance, multiply by transformation matrix and add reference point\r\n                  if (transform.refpt !== undefined) {\r\n                    coord = this.transformTemplate(coord,transform);\r\n                  }\r\n                  // transform coordinates if transform specification exists in file\r\n                  if (this.scale !== undefined) {\r\n                    coord = this.transformCityJSON(coord);\r\n                  }\r\n                  // project to wgs84\r\n                  coord = this.projectPtsToWGS84(coord);\r\n                  ringpts.push(coord);\r\n                });\r\n                polygon.push(ringpts);\r\n              });\r\n              solid.push(polygon);\r\n            });\r\n            // create solid in cesium\r\n            this.cesiumGeomService.genSolid(solid,colour,surface_type,props);\r\n          }\r\n        }\r\n      }\r\n      if (parts_index >= parts_start) {\r\n        parts_index++;\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mobius-cesium/data/readCityJSON.service.ts","module.exports = \"<div id=\\\"mobiuscesium\\\" style=\\\"height: 100%\\\">\\r\\n\\t<cesium-viewer></cesium-viewer>\\r\\n\\t<div id=\\\"Toggle\\\" (click)=\\\"toggleSlider()\\\" ><span style=\\\"vertical-align: middle;\\\"></span></div>\\r\\n\\t<div id=\\\"slide-nav\\\"  [@slide_in_out]=\\\"slider_state\\\" style=\\\"position: absolute;z-index: 101;top:0px;height: 100%\\\">\\r\\n  \\t\\t<app-setting ></app-setting>\\r\\n\\t</div>\\r\\n\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mobius-cesium/mobius-cesium.component.html\n// module id = ./src/app/mobius-cesium/mobius-cesium.component.html\n// module chunks = main","module.exports = \"@import url(\\\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\\\");\\n@font-face {\\n  font-family: \\\"FontAwesome\\\"; }\\n.font-awesome-hand {\\n  font-family: FontAwesome; }\\n.font-awesome-hand::after {\\n  font-family: FontAwesome; }\\n#mobiuscesium {\\n  height: 101%;\\n  font-family: sans-serif !important;\\n  margin: 0px !important;\\n  padding: 0px !important;\\n  font-size: 14px; }\\n#button {\\n  position: absolute;\\n  z-index: 99; }\\n#Toggle {\\n  position: absolute;\\n  top: calc(50% - 30px);\\n  z-index: 200;\\n  width: 30px;\\n  height: 70px;\\n  border-top: 1px solid gray;\\n  border-right: 1px solid gray;\\n  border-bottom: 1px solid gray;\\n  background-color: rgba(20, 20, 20, 0.5);\\n  color: #ddd;\\n  text-align: center;\\n  font-size: 32px;\\n  line-height: 70px;\\n  cursor: pointer; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mobius-cesium/mobius-cesium.component.scss\n// module id = ./src/app/mobius-cesium/mobius-cesium.component.scss\n// module chunks = main","import { Component, OnInit, Input } from \"@angular/core\";\r\nimport {DataService} from \"./data/data.service\";\r\nimport { trigger, state, style, transition, animate, keyframes } from \"@angular/animations\";\r\n\r\n@Component({\r\n  selector: \"mobius-cesium\",\r\n  templateUrl: \"./mobius-cesium.component.html\",\r\n  styleUrls: [\"./mobius-cesium.component.scss\"],\r\n  animations: [\r\n    trigger(\"slide_in_out\", [\r\n      state(\"slide_in\", style({\r\n        width: \"280px\",\r\n        // css styles when the element is in slide_in\r\n      })),\r\n      state(\"slide_out\", style({\r\n        width: \"0px\"\r\n        // css styles when the element is in slide_out\r\n      })),\r\n      // animation effect when transitioning from one state to another\r\n      transition(\"slide_in <=> slide_out\", animate(300))\r\n    ]),\r\n  ],\r\n})\r\nexport class MobiuscesiumComponent {\r\n  @Input() data: JSON;\r\n  @Input() mode: string;\r\n  private showFiller:boolean;\r\n\r\n  constructor(private dataService: DataService) {\r\n\r\n  \t};\r\n  //pass data to dataService\r\n  public setModel(data: JSON): void {\r\n  \ttry {\r\n  \t\tthis.dataService.setGsModel(data);\r\n  \t}\r\n  \tcatch(ex) {\r\n  \t\tthis.data = undefined;\r\n\r\n  \t}\r\n  }\r\n  //pass data to dataService\r\n  public ngOnInit() {\r\n  \tthis.setModel(this.data);\r\n    this.dataService.setMode(this.mode);\r\n\r\n  }\r\n  public ngDoCheck() {\r\n  \tif(this.dataService.getGsModel() !== this.data) {\r\n  \t\tthis.setModel(this.data);\r\n  \t}\r\n  }\r\n\r\n  //create slider to switch setting\r\n  private slider_state:string = \"slide_out\";\r\n  public toggleSlider(): void {\r\n    // do something to change the animation_state variable\r\n  \tthis.slider_state = this.slider_state === \"slide_out\" ? \"slide_in\" : \"slide_out\";\r\n  \tlet toggle=document.getElementById(\"Toggle\");\r\n  \tif(this.slider_state === \"slide_out\") {\r\n  \t  toggle.style.left=\"0px\";\r\n      toggle.innerHTML=\"\";\r\n  \t} else if(this.slider_state === \"slide_in\") {\r\n  \t  toggle.style.left=\"280px\";\r\n      toggle.innerHTML=\"\";\r\n\r\n  \t}\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mobius-cesium/mobius-cesium.component.ts","import { NgModule, ModuleWithProviders,Component } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { MobiuscesiumComponent} from \"./mobius-cesium.component\";\r\nimport { ViewerComponent} from \"./viewer/viewer.component\";\r\nimport { DataService } from \"./data/data.service\";\r\nimport { CityJSONService } from \"./data/readCityJSON.service\";\r\nimport { CityGMLService } from \"./data/readCityGML.service\";\r\nimport { CesiumGeomService } from \"./data/cesiumGeom.service\";\r\nimport { AngularSplitModule } from \"angular-split\";\r\nimport { BrowserAnimationsModule ,NoopAnimationsModule} from \"@angular/platform-browser/animations\";\r\nimport { BrowserModule, HAMMER_GESTURE_CONFIG } from \"@angular/platform-browser\";\r\nimport { MatTabsModule} from \"@angular/material/tabs\";\r\nimport { MatTooltipModule} from \"@angular/material/tooltip\";\r\nimport { MatSliderModule } from \"@angular/material/slider\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { SettingComponent } from \"./setting/setting.component\";\r\nimport { DataComponent } from \"./setting/visualise.component\";\r\nimport { SelectComponent } from \"./setting/attributes.component\";\r\nimport { PublishComponent } from \"./setting/publish.component\";\r\nimport { DisplayComponent } from \"./setting/display.copmponent\";\r\nimport { FilterComponent } from \"./setting/filter.component\";\r\nimport { AboutComponent } from \"./setting/about.component\";\r\n\r\n@NgModule({\r\n    imports: [CommonModule,\r\n              AngularSplitModule,\r\n              MatTabsModule,\r\n              BrowserAnimationsModule,\r\n              NoopAnimationsModule,\r\n              BrowserModule,\r\n              MatTooltipModule,\r\n              MatSliderModule,\r\n              FormsModule,\r\n       ],\r\n    exports: [ MobiuscesiumComponent ],\r\n    declarations: [MobiuscesiumComponent,\r\n                    ViewerComponent,\r\n                    SettingComponent,\r\n                    DataComponent,\r\n                    SelectComponent,\r\n                    PublishComponent,\r\n                    DisplayComponent,\r\n                    FilterComponent,\r\n                    AboutComponent,\r\n                    ],\r\n    providers: [DataService,\r\n                CityJSONService,\r\n                CityGMLService,\r\n                CesiumGeomService,\r\n                ],\r\n})\r\nexport class MobiusCesium {\r\n   static forRoot(): ModuleWithProviders {\r\n        return {\r\n            ngModule: MobiusCesium,\r\n            providers: [\r\n               DataService,\r\n            ],\r\n        };\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mobius-cesium/mobius-cesium.module.ts","module.exports = \"<div id=\\\"about\\\"  style=\\\"background-color: rgba(20,20,20,0.9);height: 100%;overflow-y:overlay;\\\"  >\\r\\n\\tVersion 0.2.1\\r\\n</div>\\r\\n  \"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mobius-cesium/setting/about.component.html\n// module id = ./src/app/mobius-cesium/setting/about.component.html\n// module chunks = main","import { Component, OnInit, Injector, ElementRef ,NgModule} from \"@angular/core\";\r\nimport {DataSubscriber} from \"../data/DataSubscriber\";\r\nimport { DataService } from \"../data/data.service\";\r\nimport {ViewerComponent} from \"../viewer/viewer.component\";\r\nimport * as chroma from \"chroma-js\";\r\n\r\n@Component({\r\n  selector: \"app-about\",\r\n  templateUrl: \"./about.component.html\",\r\n  styleUrls: [\"./attributes.component.css\"],\r\n})\r\nexport class AboutComponent { }\n\n\n// WEBPACK FOOTER //\n// ./src/app/mobius-cesium/setting/about.component.ts","module.exports = \"/deep/.mat-tab-label, /deep/.mat-tab-label-active{\\r\\n  min-width: 60px!important;\\r\\n  padding: 3px!important;\\r\\n  margin: 3px!important;\\r\\n  color:#D3D3D3 !important;\\r\\n  background-color: transparent !important;\\r\\n}\\r\\n/deep/.mat-tab-label{\\r\\n  height: 30px !important;\\r\\n  width: 60px !important;\\r\\n  background-color: transparent !important;\\r\\n}\\r\\n/deep/.mat-tab-labels{\\r\\n  background-color: rgba(20,20,20,0.9) !important;\\r\\n}\\r\\n/deep/.mat-tab-header{\\r\\n  width: 700px !important;\\r\\n}\\r\\n/deep/.mat-tab-header-pagination-controls-enabled{\\r\\n  display: none !important;\\r\\n}\\r\\n/deep/.mat-ink-bar{\\r\\n  background-color: #395d73 !important;\\r\\n}\\r\\n/deep/.mat-tab{\\r\\n  min-width: 30px !important;\\r\\n}\\r\\n/deep/.mat-tab-body-content{\\r\\n  overflow: hidden !important;\\r\\n}\\r\\n/deep/.mat-header{\\r\\n  -webkit-box-orient: horizontal;\\r\\n  -webkit-box-direction: normal;\\r\\n      -ms-flex-direction: row;\\r\\n          flex-direction: row;\\r\\n  font-family: Roboto,\\\"Helvetica Neue\\\",sans-serif;\\r\\n  margin-left: 0px;\\r\\n  color:#395d73;\\r\\n  border: 0;\\r\\n  height: 20px;\\r\\n  background-color: rgba(20,20,20,0.9) !important;\\r\\n}\\r\\n/deep/.mat-tab-body-wrapper{\\r\\n  height:100% !important;\\r\\n\\r\\n}\\r\\n/deep/split-gutter{\\r\\n  background-color:rgb(138, 168, 192) !important;\\r\\n}\\r\\n/deep/.mat-accent .mat-slider-thumb {\\r\\n    background-color: #8AA8C0 !important;\\r\\n    cursor: -webkit-grab;\\r\\n}\\r\\n/deep/.mat-slider-thumb{\\r\\n  width: 5px !important;\\r\\n  right: -5px !important;\\r\\n}\\r\\n/deep/.mat-slider-track-fill{\\r\\n  background-color: #F0BFA0 !important;\\r\\n}\\r\\n/deep/.mat-slider-thumb-label-text {\\r\\n    color: #395d73 !important;\\r\\n    font-size: 12px !important;\\r\\n}\\r\\n/deep/.mat-slider-thumb-label{\\r\\n    height: 15px !important;\\r\\n    width: 15px !important;\\r\\n    top: -20px !important;\\r\\n    right: -7px !important;\\r\\n    background-color: white !important;\\r\\n    border: 1px solid #395d73 !important;\\r\\n}\\r\\n/deep/.mat-slider-track-background{\\r\\n  background-color: #D3D3D3 !important;\\r\\n}\\r\\n.mat-slider{\\r\\n    width: 150px !important;\\r\\n}\\r\\n.cesium-button {\\r\\n  display: inline-block;\\r\\n  position: relative;\\r\\n  border: 1px solid #8AA8C0;\\r\\n  color: #D3D3D3;\\r\\n  fill: #8AA8C0;\\r\\n  border-radius: 0px;\\r\\n  padding: 3px 0px;\\r\\n  margin: 0px 0px;\\r\\n  cursor: pointer;\\r\\n  overflow: hidden;\\r\\n  -moz-user-select: none;\\r\\n  -webkit-user-select: none;\\r\\n  -ms-user-select: none;\\r\\n  user-select: none;\\r\\n  width: 80px;\\r\\n  font-family:sans-serif !important;\\r\\n  background: transparent;\\r\\n}\\r\\n.cesium-button-select{\\r\\n  display: inline-block;\\r\\n  position: relative;\\r\\n  border: 1px solid #8AA8C0;\\r\\n  fill: #8AA8C0;\\r\\n  border-radius: 0px;\\r\\n  padding: 3px 0px;\\r\\n  margin: 0px 0px;\\r\\n  cursor: pointer;\\r\\n  overflow: hidden;\\r\\n  -moz-user-select: none;\\r\\n  -webkit-user-select: none;\\r\\n  -ms-user-select: none;\\r\\n  user-select: none;\\r\\n  width: 80px;\\r\\n  font-family:sans-serif !important;\\r\\n  color: #D3D3D3;\\r\\n  background: transparent;\\r\\n}\\r\\n.cesium-option{\\r\\n  background-color: #F1F1F1;\\r\\n  /*opacity: 0.8;*/\\r\\n  color: #8AA8C0;\\r\\n  border: 1px solid #8AA8C0;\\r\\n}\\r\\nhr {\\r\\n  display: block;\\r\\n  height: 1px;\\r\\n  border: 0;\\r\\n  border-top: 1px solid #D3D3D3 !important;\\r\\n  padding: 0; \\r\\n  color:#D3D3D3 !important;\\r\\n  width: 100%;\\r\\n  background-color: #D3D3D3 !important;\\r\\n}\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mobius-cesium/setting/attributes.component.css\n// module id = ./src/app/mobius-cesium/setting/attributes.component.css\n// module chunks = main","module.exports = \"<div id=\\\"AttribsView\\\"  style=\\\"background-color: rgba(20,20,20,0.9);height: 100%;overflow-y:overlay;\\\"  >\\r\\n\\t<table border=\\\"1\\\" cellspacing=\\\"0\\\" cellpadding=\\\"0\\\" bordercolor=\\\"#d0d0d0\\\" *ngFor=\\\"let Category of keys\\\">\\r\\n\\t  <tr >\\r\\n\\t    <th style=\\\"font-size: 10px;font-weight: normal;width: 135px;\\\" colspan=\\\"2\\\"><div style=\\\"height:16px;background: #395D73;color:white;white-space: nowrap;display:block;overflow: hidden !important;text-overflow: ellipsis !important;cursor:pointer;\\\">{{Category}}</div></th>\\r\\n\\t  </tr>\\r\\n\\t  <tr *ngFor=\\\"let Property of _Properties[Category]\\\">\\r\\n\\t  \\t<th style=\\\"font-size: 10px;font-weight: normal;color:#D3D3D3 ;width: 135px;height: 14px\\\"><div matTooltip={{Property.Name}} style=\\\"width: 135px;height:14px;text-align: left;white-space: nowrap;display:block;overflow: hidden !important;text-overflow: ellipsis !important;cursor:pointer;\\\">{{Property.Name}}</div></th>\\r\\n\\t    <th style=\\\"font-size: 10px;font-weight: normal;color:#D3D3D3 ;width: 135px;height: 14px\\\"><div matTooltip={{Property.Value}} style=\\\"width: 135px;height:14px;text-align: left;white-space: nowrap;display:block;overflow: hidden !important;text-overflow: ellipsis !important;cursor:pointer;\\\">{{Property.Value}}</div></th>\\r\\n\\t\\t</tr>\\r\\n\\t</table>\\r\\n</div>\\r\\n  \"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mobius-cesium/setting/attributes.component.html\n// module id = ./src/app/mobius-cesium/setting/attributes.component.html\n// module chunks = main","import { Component, OnInit, Injector, ElementRef ,NgModule} from \"@angular/core\";\r\nimport {DataSubscriber} from \"../data/DataSubscriber\";\r\nimport { DataService } from \"../data/data.service\";\r\nimport {ViewerComponent} from \"../viewer/viewer.component\";\r\nimport * as chroma from \"chroma-js\";\r\n\r\n@Component({\r\n  selector: \"app-select\",\r\n  templateUrl: \"./attributes.component.html\",\r\n  styleUrls: [\"./attributes.component.css\"],\r\n})\r\nexport class SelectComponent extends DataSubscriber implements OnInit {\r\n  private myElement;\r\n  // private data: JSON;\r\n  // private mode: string;\r\n  private viewer: object;\r\n  // private dataArr: object;\r\n  private ID: any;\r\n  private keys: string[];\r\n  private _Properties: any;\r\n\r\n  constructor(injector: Injector, myElement: ElementRef) {\r\n  super(injector);\r\n  }\r\n  public ngOnInit() {\r\n    // this.data = this.dataService.getGsModel();\r\n    // this.mode = this.dataService.getmode();\r\n    this.viewer = this.dataService.getViewer();\r\n    // this.dataArr = this.dataService.get_ViData();\r\n  }\r\n  public  notify(message: string): void {\r\n    if(message === \"model_update\" ) {\r\n      // this.data = this.dataService.getGsModel();\r\n      // this.mode = this.dataService.getmode();\r\n      // this.dataArr = this.dataService.get_ViData();\r\n    }\r\n  }\r\n\r\n  //check whether ID is changed or not and show in  Select tab\r\n  public ngDoCheck() {\r\n    if(this.viewer !== undefined&&this.dataService.get_SelectedEntity() !== undefined) {\r\n      const selected = this.dataService.get_SelectedEntity();\r\n      if(this.ID !== selected._id) {\r\n        let _Property: any;\r\n        this.keys = [];\r\n        this.ID = selected._id;\r\n        this._Properties = {};\r\n        const categories = selected.properties.propertyNames;\r\n        for(const categoryname of categories) {\r\n          if(categoryname !== \"None\") {\r\n            const propnames = Object.keys(selected.properties[categoryname]._value);\r\n            const categoryprops = [];\r\n            for (const propname of propnames) {\r\n              _Property = {};\r\n              _Property.Name = propname;\r\n              _Property.Value = selected.properties[categoryname]._value[propname];\r\n              categoryprops.push(_Property);\r\n            }\r\n            if (categoryprops.length > 0) {\r\n              this.keys.push(categoryname);\r\n              this._Properties[categoryname] = categoryprops;\r\n            }\r\n          }\r\n        }\r\n        // console.log(this._Properties);\r\n      }\r\n    } else if (this.viewer !== undefined&&this.dataService.get_SelectedEntity() === undefined) {\r\n      this.ID = undefined;\r\n      this.keys = [];\r\n      this._Properties = [];\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mobius-cesium/setting/attributes.component.ts","module.exports = \"/*/deep/.mat-tab-label, /deep/.mat-tab-label-active{\\r\\n  min-width: 60px!important;\\r\\n  padding: 3px!important;\\r\\n  margin: 3px!important;\\r\\n  color:#D3D3D3 !important;\\r\\n  background-color: transparent !important;\\r\\n}\\r\\n/deep/.mat-tab-label{\\r\\n  height: 30px !important;\\r\\n  width: 60px !important;\\r\\n  background-color: transparent !important;\\r\\n}\\r\\n/deep/.mat-tab-labels{\\r\\n  background-color: rgba(20,20,20,0.9) !important;\\r\\n}\\r\\n/deep/.mat-tab-header{\\r\\n  width: 700px !important;\\r\\n}\\r\\n/deep/.mat-tab-header-pagination-controls-enabled{\\r\\n  display: none !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-ink-bar{\\r\\n  background-color: #395d73 !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-tab{\\r\\n  min-width: 30px !important;\\r\\n}\\r\\n/deep/.mat-tab-body-content{\\r\\n  overflow: hidden !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-header{\\r\\n  flex-direction: row;\\r\\n  font-family: Roboto,\\\"Helvetica Neue\\\",sans-serif;\\r\\n  margin-left: 0px;\\r\\n  color:#395d73;\\r\\n  border: 0;\\r\\n  height: 20px;\\r\\n  background-color: rgba(20,20,20,0.9) !important;\\r\\n}\\r\\n/deep/.mat-tab-body-wrapper{\\r\\n  height:100% !important;\\r\\n\\r\\n}\\r\\n\\r\\n\\r\\n/deep/split-gutter{\\r\\n  background-color:rgb(138, 168, 192) !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-accent .mat-slider-thumb {\\r\\n    background-color: #8AA8C0 !important;\\r\\n    cursor: -webkit-grab;\\r\\n}\\r\\n/deep/.mat-slider-thumb{\\r\\n  width: 5px !important;\\r\\n  right: -5px !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-slider-track-fill{\\r\\n  background-color: #F0BFA0 !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-slider-thumb-label-text {\\r\\n    color: #395d73 !important;\\r\\n    font-size: 12px !important;\\r\\n}\\r\\n/deep/.mat-slider-thumb-label{\\r\\n    height: 15px !important;\\r\\n    width: 15px !important;\\r\\n    top: -20px !important;\\r\\n    right: -7px !important;\\r\\n    background-color: white !important;\\r\\n    border: 1px solid #395d73 !important;\\r\\n}\\r\\n/deep/.mat-slider-track-background{\\r\\n  background-color: #D3D3D3 !important;\\r\\n}\\r\\n.mat-slider{\\r\\n    width: 150px !important;\\r\\n}*/\\r\\n\\r\\n.cesium-button {\\r\\n  display: inline-block;\\r\\n  position: relative;\\r\\n  border: 1px solid #8AA8C0;\\r\\n  color: #D3D3D3;\\r\\n  fill: #8AA8C0;\\r\\n  border-radius: 0px;\\r\\n  padding: 3px 0px;\\r\\n  margin: 0px 0px;\\r\\n  cursor: pointer;\\r\\n  overflow: hidden;\\r\\n  -moz-user-select: none;\\r\\n  -webkit-user-select: none;\\r\\n  -ms-user-select: none;\\r\\n  user-select: none;\\r\\n  width: 80px;\\r\\n  font-family:sans-serif !important;\\r\\n  background: transparent;\\r\\n}\\r\\n\\r\\n.cesium-button-select{\\r\\n  display: inline-block;\\r\\n  position: relative;\\r\\n  border: 1px solid #8AA8C0;\\r\\n  fill: #8AA8C0;\\r\\n  border-radius: 0px;\\r\\n  padding: 3px 0px;\\r\\n  margin: 0px 0px;\\r\\n  cursor: pointer;\\r\\n  overflow: hidden;\\r\\n  -moz-user-select: none;\\r\\n  -webkit-user-select: none;\\r\\n  -ms-user-select: none;\\r\\n  user-select: none;\\r\\n  width: 80px;\\r\\n  font-family:sans-serif !important;\\r\\n  color: #D3D3D3;\\r\\n  background: transparent;\\r\\n}\\r\\n\\r\\n.cesium-option{\\r\\n  background-color: #F1F1F1;\\r\\n  /*opacity: 0.8;*/\\r\\n  color: #8AA8C0;\\r\\n  border: 1px solid #8AA8C0;\\r\\n}\\r\\n\\r\\nhr {\\r\\n  display: block;\\r\\n  height: 1px;\\r\\n  border: 0;\\r\\n  border-top: 1px solid #D3D3D3 !important;\\r\\n  padding: 0; \\r\\n  color:#D3D3D3 !important;\\r\\n  width: 100%;\\r\\n  background-color: #D3D3D3 !important;\\r\\n}\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mobius-cesium/setting/display.copmponent.css\n// module id = ./src/app/mobius-cesium/setting/display.copmponent.css\n// module chunks = main","module.exports = \"<div id=\\\"DisplayView\\\"  style=\\\"background-color: rgba(20,20,20,0.9);height: 100%;overflow-y:overlay;\\\"  >\\r\\n\\t<table>\\r\\n      <tr>\\r\\n      <th class=\\\"colorkey\\\" style=\\\"width: 80px\\\"><div class=\\\"Hide\\\" style=\\\"width: 80px;color:#D3D3D3 !important;border:0;text-align: left;font-weight: normal;\\\">Imagery</div></th>\\r\\n      <th><div>\\r\\n        <select class=\\\"cesium-button\\\" (change)=\\\"onChangeImagery($event.target.value)\\\" [ngModel]=\\\"_Imagery\\\">\\r\\n          <option class=\\\"cesium-option\\\"  *ngFor=\\\"let Imagery of _ImageryList\\\" value={{Imagery}}>{{Imagery}}</option>\\r\\n        </select>\\r\\n      </div></th>\\r\\n      </tr>\\r\\n    </table>\\r\\n    <table>\\r\\n      <tr ><th style=\\\"width:80px;height: 25px;\\\"><div style=\\\"width: 80px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\">Sun</div></th>\\r\\n      <th style=\\\"width:80px;height: 25px;\\\"><div style=\\\"width:80px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\"><input type=\\\"checkbox\\\" [checked]=\\\"_Sun\\\" (click)=\\\"changeSun()\\\"></div></th></tr>\\r\\n    </table>\\r\\n    <table>\\r\\n      <tr ><th style=\\\"width:80px;height: 25px;\\\"><div style=\\\"width: 80px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\">Shadows</div></th>\\r\\n      <th style=\\\"width:80px;height: 25px;\\\"><div style=\\\"width:80px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\"><input type=\\\"checkbox\\\" [checked]=\\\"_Shadow\\\" (click)=\\\"changeShadow()\\\"></div></th></tr>\\r\\n    </table>\\r\\n    <table>\\r\\n      <tr ><th style=\\\"width:80px;height: 25px;\\\"><div style=\\\"width: 80px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\">Date</div></th>\\r\\n      <th style=\\\"width:80px;height: 18px;\\\"><input type=\\\"text\\\"  value={{_Date}} style=\\\"width:80px;height: 18px;background:transparent;color:#D3D3D3;border:1px solid #8AA8C0;font-weight: normal;text-align: left\\\" (change)=\\\"changeDate($event.target.value,_UTC)\\\"></th></tr>  \\r\\n    </table>\\r\\n    <table>\\r\\n      <tr ><th style=\\\"width:80px;height: 25px;\\\"><div style=\\\"width: 80px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\">UTC</div></th>\\r\\n      <th style=\\\"width:80px;height: 18px;\\\"><input type=\\\"text\\\"  value={{_UTC}} style=\\\"width:80px;height: 18px;background:transparent;color:#D3D3D3;border:1px solid #8AA8C0;font-weight: normal;text-align: left\\\" (change)=\\\"changeDate(_Date,$event.target.value)\\\"></th></tr>  \\r\\n    </table>\\r\\n    \\r\\n</div>\\r\\n  \"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mobius-cesium/setting/display.copmponent.html\n// module id = ./src/app/mobius-cesium/setting/display.copmponent.html\n// module chunks = main","import { Component, OnInit, Injector, ElementRef ,NgModule} from \"@angular/core\";\r\nimport {DataSubscriber} from \"../data/DataSubscriber\";\r\nimport { DataService } from \"../data/data.service\";\r\nimport {ViewerComponent} from \"../viewer/viewer.component\";\r\nimport * as chroma from \"chroma-js\";\r\n\r\n@Component({\r\n  selector: \"app-display\",\r\n  templateUrl: \"./display.copmponent.html\",\r\n  styleUrls: [\"./display.copmponent.css\"],\r\n})\r\nexport class DisplayComponent extends DataSubscriber implements OnInit {\r\n  private myElement;\r\n  private data: JSON;\r\n  private mode: string;\r\n  private _ImageryList: any[];\r\n  private _Imagery: string;\r\n  private _Sun: boolean;\r\n  private _Shadow: boolean;\r\n  private _Date: string;\r\n  private _UTC: number;\r\n\r\n  constructor(injector: Injector, myElement: ElementRef) {\r\n  super(injector);\r\n  }\r\n\r\n  public ngOnInit() {\r\n    this.data = this.dataService.getGsModel();\r\n    this._ImageryList = [\"Disable\",\"Stamen Toner\",\"Stamen Toner(Lite)\",\"Terrain(Standard)\",\"Terrain(Background)\",\r\n                         \"OpenStreetMap\",\"Earth at Night\",\"Natural Earth\\u00a0II\",\"Blue Marble\"];\r\n    \r\n    if(this._Imagery === undefined){\r\n      this._Imagery = this._ImageryList[0];\r\n      this.onChangeImagery(this._Imagery);\r\n    }else {this._Imagery =this.dataService.get_Imagery();}\r\n\r\n    if(this._Sun === undefined){\r\n      this._Sun = false;\r\n      this.dataService.set_Sun(this._Sun);\r\n    }else {this._Sun =this.dataService.get_Sun();}\r\n\r\n    if(this._Shadow === undefined){\r\n      this._Shadow = false;\r\n      this.dataService.set_Shadow(this._Shadow);\r\n    }else {this._Shadow =this.dataService.get_Shadow();}\r\n\r\n    this._UTC = +8;\r\n    this.dataService.set_UTC(this._UTC);\r\n    if(this._Date ===undefined){\r\n      const today = new Date();\r\n      const year = today.getFullYear();\r\n      const month = String(today.getMonth()+1).padStart(2, \"0\");\r\n      const day = String(today.getDate()).padStart(2, \"0\");\r\n      this._Date = year+\"-\"+month+\"-\"+day;\r\n    }else {\r\n      this._Date = this.dataService.get_Date();\r\n      this.changeDate(this._Date,this._UTC);\r\n    }\r\n        this.dataService.set_Date(this._Date);\r\n  }\r\n  public  notify(message: string): void {\r\n  }\r\n  \r\n  //chanage imagery in Display tab\r\n  public onChangeImagery(_Imagery): void{\r\n    this._Imagery = _Imagery;\r\n    this.dataService.set_Imagery(_Imagery);\r\n    const layers = this.dataService.getViewer().scene.imageryLayers;\r\n    if(_Imagery === this._ImageryList[0]) {\r\n      layers.removeAll();\r\n      this.dataService.getViewer().scene.globe.baseColor = Cesium.Color.GRAY;\r\n    }else if(_Imagery === this._ImageryList[1]){\r\n      layers.removeAll();\r\n      var blackMarble = layers.addImageryProvider(Cesium.createOpenStreetMapImageryProvider({\r\n        url : \"https://stamen-tiles.a.ssl.fastly.net/toner/\"\r\n      }));\r\n    }else if(_Imagery === this._ImageryList[2]){\r\n      layers.removeAll();\r\n      var blackMarble = layers.addImageryProvider(Cesium.createOpenStreetMapImageryProvider({\r\n        url : \"https://stamen-tiles.a.ssl.fastly.net/toner-lite/\"\r\n      }));\r\n    }else if(_Imagery === this._ImageryList[3]){\r\n      layers.removeAll();\r\n      var blackMarble = layers.addImageryProvider(Cesium.createOpenStreetMapImageryProvider({\r\n        url : \"https://stamen-tiles.a.ssl.fastly.net/terrain/\"\r\n      }));\r\n    }else if(_Imagery === this._ImageryList[4]){\r\n      layers.removeAll();\r\n      var blackMarble = layers.addImageryProvider(Cesium.createOpenStreetMapImageryProvider({\r\n        url : \"https://stamen-tiles.a.ssl.fastly.net/terrain-background/\"\r\n      }));\r\n    }else if(_Imagery === this._ImageryList[5]){\r\n      layers.removeAll();\r\n      var blackMarble = layers.addImageryProvider(Cesium.createOpenStreetMapImageryProvider({\r\n        url : \"https://a.tile.openstreetmap.org/\"\r\n      }));\r\n    }else if(_Imagery === this._ImageryList[6]){\r\n      layers.removeAll();\r\n      var blackMarble = layers.addImageryProvider(new Cesium.IonImageryProvider({ assetId: 3812 }));\r\n    }else if(_Imagery === this._ImageryList[7]){\r\n      layers.removeAll();\r\n      var blackMarble = layers.addImageryProvider(Cesium.createTileMapServiceImageryProvider({\r\n             url : Cesium.buildModuleUrl(\"Assets/Textures/NaturalEarthII\"),\r\n      }));\r\n    }else if(_Imagery === this._ImageryList[8]){\r\n      layers.removeAll();\r\n      var blackMarble = layers.addImageryProvider(new Cesium.IonImageryProvider({ assetId: 3845 }));\r\n    }\r\n  }\r\n  //change sun\r\n  public changeSun(){\r\n    const viewer = this.dataService.getViewer();\r\n    this._Sun = ! this._Sun;\r\n    if(this._Sun === true){\r\n      viewer.terrainShadows = Cesium.ShadowMode.ENABLED;\r\n      viewer.scene.globe.enableLighting =  true;\r\n      viewer.scene.sun.show = true;\r\n    } else {\r\n      viewer.terrainShadows = undefined;\r\n      viewer.scene.globe.enableLighting =  false;\r\n      viewer.scene.sun.show = false;\r\n    }\r\n    this.dataService.set_Sun(this._Sun);\r\n  }\r\n  //change shadow\r\n  public changeShadow(){\r\n    this._Shadow = ! this._Shadow;\r\n    const promise = this.dataService.getcesiumpromise();\r\n    if(this._Shadow === true){\r\n      promise.then(function(dataSource) {\r\n        const entities = dataSource.entities.values;\r\n        for(const entity of entities) {\r\n          if (entity.polygon !== undefined){\r\n            entity.polygon.shadows = Cesium.ShadowMode.ENABLED;\r\n            console.log(entity);\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      promise.then(function(dataSource) {\r\n        const entities = dataSource.entities.values;\r\n        for(const entity of entities) {\r\n          if (entity.polygon !== undefined){\r\n            entity.polygon.shadows = undefined;\r\n          }\r\n        }\r\n      });\r\n    }\r\n    this.dataService.set_Shadow(this._Shadow);\r\n  }\r\n  //change date\r\n  public changeDate(_Date,_UTC){\r\n    this._Date = _Date;\r\n    this._UTC = _UTC;\r\n    const viewer = this.dataService.getViewer();\r\n    const now = new Cesium.JulianDate.fromIso8601(this._Date);\r\n    const tomorrow = now.clone();\r\n    tomorrow.dayNumber = tomorrow.dayNumber + 1;\r\n    viewer.clock.currentTime = Cesium.JulianDate.addHours(now,this._UTC,now);\r\n    viewer.clock.startTime = now.clone();\r\n    viewer.clock.stopTime = tomorrow.clone();\r\n    viewer.timeline.zoomTo(viewer.clock.startTime, viewer.clock.stopTime);\r\n    this.dataService.set_Date(this._Date);\r\n    this.dataService.set_UTC(this._UTC);\r\n    viewer.timeline.updateFromClock();\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mobius-cesium/setting/display.copmponent.ts","module.exports = \"#CityJSONView{\\r\\n  position: relative;\\r\\n  padding:0px;\\r\\n  height: 100%;\\r\\n  width: 100%;\\r\\n  color:#D3D3D3 !important;\\r\\n  font-family: Roboto,\\\"Helvetica Neue\\\",sans-serif;\\r\\n  font-size: 14px !important;\\r\\n  line-height: 14px;\\r\\n  overflow-x: hidden !important;\\r\\n  background-color: rgba(20,20,20,0.9);\\r\\n  overflow-y:overlay;\\r\\n}\\r\\n/deep/.mat-tab-label, /deep/.mat-tab-label-active{\\r\\n  min-width: 60px!important;\\r\\n  padding: 3px!important;\\r\\n  margin: 3px!important;\\r\\n  color:#D3D3D3 !important;\\r\\n  background-color: transparent !important;\\r\\n}\\r\\n/deep/.mat-tab-label{\\r\\n  height: 30px !important;\\r\\n  width: 60px !important;\\r\\n  background-color: transparent !important;\\r\\n}\\r\\n/deep/.mat-tab-labels{\\r\\n  background-color: rgba(20,20,20,0.9) !important;\\r\\n}\\r\\n/deep/.mat-tab-header{\\r\\n  width: 700px !important;\\r\\n}\\r\\n/deep/.mat-tab-header-pagination-controls-enabled{\\r\\n  display: none !important;\\r\\n}\\r\\n/deep/.mat-ink-bar{\\r\\n  background-color: #395d73 !important;\\r\\n}\\r\\n/deep/.mat-tab{\\r\\n  min-width: 30px !important;\\r\\n}\\r\\n/deep/.mat-tab-body-content{\\r\\n  overflow: hidden !important;\\r\\n}\\r\\n/deep/.mat-header{\\r\\n  -webkit-box-orient: horizontal;\\r\\n  -webkit-box-direction: normal;\\r\\n      -ms-flex-direction: row;\\r\\n          flex-direction: row;\\r\\n  font-family: Roboto,\\\"Helvetica Neue\\\",sans-serif;\\r\\n  margin-left: 0px;\\r\\n  color:#395d73;\\r\\n  border: 0;\\r\\n  height: 20px;\\r\\n  background-color: rgba(20,20,20,0.9) !important;\\r\\n}\\r\\n/deep/.mat-tab-body-wrapper{\\r\\n  height:100% !important;\\r\\n\\r\\n}\\r\\n/deep/split-gutter{\\r\\n  background-color:rgb(138, 168, 192) !important;\\r\\n}\\r\\n/deep/.mat-accent .mat-slider-thumb {\\r\\n    background-color: #8AA8C0 !important;\\r\\n    cursor: -webkit-grab;\\r\\n}\\r\\n/deep/.mat-slider-thumb{\\r\\n  width: 5px !important;\\r\\n  right: -5px !important;\\r\\n}\\r\\n/deep/.mat-slider-track-fill{\\r\\n  background-color: #F0BFA0 !important;\\r\\n}\\r\\n/deep/.mat-slider-thumb-label-text {\\r\\n    color: #8AA8C0 !important;\\r\\n    font-size: 12px !important;\\r\\n}\\r\\n/deep/.mat-slider-thumb-label{\\r\\n    height: 15px !important;\\r\\n    width: 15px !important;\\r\\n    top: -20px !important;\\r\\n    right: -7px !important;\\r\\n    background-color: white !important;\\r\\n    border: 1px solid #8AA8C0 !important;\\r\\n}\\r\\n/deep/.mat-slider-track-background{\\r\\n  background-color: #D3D3D3 !important;\\r\\n}\\r\\n.mat-slider{\\r\\n    width: 150px !important;\\r\\n}\\r\\n.cesium-button {\\r\\n  display: inline-block;\\r\\n  position: relative;\\r\\n  border: 1px solid #8AA8C0;\\r\\n  color: #D3D3D3;\\r\\n  fill: #8AA8C0;\\r\\n  border-radius: 0px;\\r\\n  padding: 3px 0px;\\r\\n  margin: 0px 0px;\\r\\n  cursor: pointer;\\r\\n  overflow: hidden;\\r\\n  -moz-user-select: none;\\r\\n  -webkit-user-select: none;\\r\\n  -ms-user-select: none;\\r\\n  user-select: none;\\r\\n  width: 80px;\\r\\n  font-family:sans-serif !important;\\r\\n  background: transparent;\\r\\n}\\r\\n.cesium-button-select{\\r\\n  display: inline-block;\\r\\n  position: relative;\\r\\n  border: 1px solid #8AA8C0;\\r\\n  fill: #8AA8C0;\\r\\n  border-radius: 0px;\\r\\n  padding: 3px 0px;\\r\\n  margin: 0px 0px;\\r\\n  cursor: pointer;\\r\\n  overflow: hidden;\\r\\n  -moz-user-select: none;\\r\\n  -webkit-user-select: none;\\r\\n  -ms-user-select: none;\\r\\n  user-select: none;\\r\\n  width: 80px;\\r\\n  font-family:sans-serif !important;\\r\\n  color: #D3D3D3;\\r\\n  background: transparent;\\r\\n}\\r\\n.cesium-option{\\r\\n  background-color: #F1F1F1;\\r\\n  /*opacity: 0.8;*/\\r\\n  color: #8AA8C0;\\r\\n  border: 1px solid #8AA8C0;\\r\\n}\\r\\nhr {\\r\\n  display: block;\\r\\n  height: 1px;\\r\\n  border: 0;\\r\\n  border-top: 1px solid #D3D3D3 !important;\\r\\n  padding: 0; \\r\\n  color:#D3D3D3 !important;\\r\\n  width: 100%;\\r\\n  background-color: #8AA8C0 !important;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mobius-cesium/setting/filter.component.css\n// module id = ./src/app/mobius-cesium/setting/filter.component.css\n// module chunks = main","module.exports = \"<div id=\\\"CityJSONView\\\" >\\r\\n  <div class=\\\"filter-container\\\">\\r\\n    Show geometry with property:<br><br>\\r\\n    <div>\\r\\n      <table>\\r\\n        <tr><th class=\\\"addFilter\\\" style=\\\"width: 75px;height: 25px;\\\">\\r\\n            <input type=\\\"button\\\" value=\\\"Add Filter\\\" style=\\\"color:#D3D3D3;border:1px solid #8AA8C0;width: 75px;height: 25px;background-color: transparent;cursor:pointer;\\\" (click)=\\\"addFilter()\\\">\\r\\n        </th>\\r\\n        <th>\\r\\n          <select class=\\\"filter-button\\\" (change)=\\\"changeFilterSelect($event.target.value)\\\">\\r\\n            <option class=\\\"filter-option\\\"  *ngFor=\\\"let item of prop_keys\\\" value={{item}}>{{item}}</option>\\r\\n          </select>\\r\\n        </th></tr>\\r\\n      </table>\\r\\n    </div><br><br>\\r\\n    <div *ngFor=\\\"let item of filters;\\\" id={{item.id}}>\\r\\n      <table>\\r\\n        <tr>\\r\\n          <th style=\\\"width:85px;height: 20px;\\\">\\r\\n            <div style=\\\"width:85px;color:#D3D3D3 !important;text-align: left;vertical-align: middle;font-weight: normal;\\\">{{item.name}}</div>\\r\\n          </th>\\r\\n          <th *ngIf=\\\"item.type === 'number'\\\" style=\\\"width:40px;height: 22px;\\\">\\r\\n            <div style=\\\"width:40px;height: 22px;\\\">\\r\\n              <select class=\\\"cesium-button-select\\\" (change)=\\\"changeRelation(item.id,$event.target.value)\\\" style=\\\"width:40px;height: 22px;\\\"> <!-- [ngModel]=\\\"item.RelaHide\\\" --> \\r\\n                 <option class=\\\"cesium-option\\\" value=0>></option>\\r\\n                 <option class=\\\"cesium-option\\\" value=1><</option>\\r\\n                 <option class=\\\"cesium-option\\\" value=2>=</option>\\r\\n              </select>\\r\\n            </div>\\r\\n          </th>\\r\\n          <th *ngIf=\\\"item.type === 'string'\\\" style=\\\"width:40px;height: 22px;\\\">\\r\\n            <div style=\\\"width:40px;height: 22px;\\\">\\r\\n              <select class=\\\"cesium-button-select\\\" (change)=\\\"changeRelation(item.id,$event.target.value)\\\" style=\\\"width:40px;height: 22px;\\\"> <!-- [ngModel]=\\\"item.RelaHide\\\" -->\\r\\n                <option class=\\\"cesium-option\\\" value=0>=</option>\\r\\n                <option class=\\\"cesium-option\\\" value=1>!=</option>\\r\\n              </select>\\r\\n            </div>\\r\\n          </th>\\r\\n           <th *ngIf=\\\"item.type === 'number'\\\" style=\\\"width:70px;height: 20px;\\\">\\r\\n            <input type=\\\"text\\\" id={{item.id}} value={{item.textHide}} (change)=\\\"changeNum(item.id,$event.target.value)\\\" style=\\\"width:70px;height: 20px;background:transparent;color:#D3D3D3;border:1px solid #8AA8C0;\\\">\\r\\n          </th>\\r\\n          <th *ngIf=\\\"item.type === 'string'\\\" style=\\\"width:73px;height: 22px;\\\">\\r\\n            <div style=\\\"width:73px;height: 22px;\\\">\\r\\n              <select class=\\\"cesium-button-select\\\" (change)=\\\"changeText(item.id,$event.target.value)\\\" style=\\\"width:73px;height: 22px;\\\"> <!-- [ngModel]=\\\"item.CategaryHide\\\" -->\\r\\n                <option class=\\\"cesium-option\\\" *ngFor=\\\"let val of item.values\\\" value={{val}}>{{val}}</option>\\r\\n              </select>\\r\\n            </div>\\r\\n          </th>\\r\\n          <th style=\\\"width:20px;height: 22px;\\\" id={{item.id}}>\\r\\n            <span id={{item.id}} (click)=\\\"deleteFilter(item.id)\\\" style=\\\"width:20px;height: 22px;cursor:pointer;\\\">\\r\\n              <i class=\\\"material-icons\\\" style=\\\"color:#D3D3D3;font-size:16px\\\">delete</i>\\r\\n            </span>\\r\\n          </th>\\r\\n          <th style=\\\"width:20px;height: 25px;\\\" id={{item.id}}>\\r\\n            <input type=\\\"checkbox\\\" id={{item.id}} checked=\\\"checked\\\" (click)=\\\"changeDisable(item.id,$event.target.checked)\\\" tyle=\\\"width:20px;height: 25px;cursor:pointer;\\\">\\r\\n          </th>\\r\\n          <th></th>\\r\\n        </tr>\\r\\n      </table>\\r\\n    </div>\\r\\n    <div>\\r\\n      <table>\\r\\n        <tr><th class=\\\"addFilter\\\" style=\\\"width: 75px;height: 25px;\\\">\\r\\n          <input type=\\\"button\\\" value=\\\"Apply filters\\\" style=\\\"color:#D3D3D3;border:1px solid #8AA8C0;width: 85px;height: 25px;background-color: transparent;cursor:pointer;\\\" (click)=\\\"applyFilter()\\\">\\r\\n        </th></tr>\\r\\n      </table>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n  \"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mobius-cesium/setting/filter.component.html\n// module id = ./src/app/mobius-cesium/setting/filter.component.html\n// module chunks = main","import { Component, OnInit, Injector, ElementRef ,NgModule} from \"@angular/core\";\r\nimport {DataSubscriber} from \"../data/DataSubscriber\";\r\nimport { DataService } from \"../data/data.service\";\r\nimport {ViewerComponent} from \"../viewer/viewer.component\";\r\nimport * as chroma from \"chroma-js\";\r\n\r\n@Component({\r\n  selector: \"app-filter\",\r\n  templateUrl: \"./filter.component.html\",\r\n  styleUrls: [\"./filter.component.css\"],\r\n})\r\nexport class FilterComponent extends DataSubscriber implements OnInit {\r\n  private myElement;\r\n  private all_ids: any;\r\n  private srfcount: any;\r\n  private filter_index: number;\r\n  private filter_select: string;\r\n  private filters: any;\r\n  private prop_ids: any;\r\n  private prop_keys: any;\r\n\r\n  constructor(injector: Injector, myElement: ElementRef) {\r\n  super(injector);\r\n  }\r\n\r\n  /* Initialises and gets parent IDs and properties\r\n     Extracts keys for display in dropdown\r\n     Uses: - initialise\r\n           - dataService.getcesiumpromise\r\n           - cesiumGeomService.getIds\r\n           - cesiumGeomService.getPropIds\r\n           - setKeys */\r\n  public ngOnInit() {\r\n    this.intialise();\r\n    this.all_ids = this.cesiumGeomService.getIds();\r\n    this.prop_ids = this.cesiumGeomService.getPropIds();\r\n    this.setKeys();\r\n    this.filter_select = this.prop_keys[0];\r\n  }\r\n  public notify(message: string): void {\r\n    if(message === \"model_update\" ) {\r\n      try {\r\n        this.intialise();\r\n        this.dataService.getcesiumpromise().then(() => {\r\n          this.all_ids = this.cesiumGeomService.getIds();\r\n          this.prop_ids = this.cesiumGeomService.getPropIds();\r\n          this.setKeys();\r\n          this.filter_select = this.prop_keys[0];\r\n        });\r\n      }\r\n      catch(ex) {\r\n        console.log(ex);\r\n      }\r\n    }\r\n  }\r\n\r\n  /* Initialise arrays/reset values */\r\n  private intialise() {\r\n    this.filter_index = 0;\r\n    this.srfcount = null;\r\n    this.filters = [];\r\n    this.prop_keys = null;\r\n    this.all_ids = null;\r\n  }\r\n\r\n  /* Get list of keys for properties (for displaying in the dropdown list) */\r\n  private setKeys() {\r\n    const keys2 = [];\r\n    for (const key in this.prop_ids) {\r\n      // keys.push(key);\r\n      keys2.push(key);\r\n    }\r\n    this.prop_keys = keys2;\r\n  }\r\n\r\n  /* Hides all entities from list of ids\r\n     Params: Array of entities to check for id and hide\r\n             Array of ids to check for and hide\r\n     Called in: applyFilter */\r\n  public hide(entities, ids) {\r\n    ids.forEach((id) => {\r\n      entities.getById(id).show = false;\r\n    });\r\n  }\r\n\r\n  /* Shows all entities from list of ids\r\n     Params: Array of entities to check for id and show\r\n             Array of ids to check for and show\r\n     Called in: applyFilter */\r\n  public show(entities, ids) {\r\n    ids.forEach((id) => {\r\n      entities.getById(id).show = true;\r\n    });\r\n  }\r\n\r\n  /* Adds a filter option based on the current selected property (this.filter_select) when user clicks button */\r\n  public addFilter() {\r\n    const proptype = typeof(this.prop_ids[this.filter_select][0]);\r\n    let text = 0;\r\n    if (proptype === \"string\") {\r\n      text = this.prop_ids[this.filter_select][0];\r\n    }\r\n    const filter = {id: this.filter_index, // ID number of filter\r\n                    name: this.filter_select, // property name used for filter\r\n                    type: proptype,  // type of property (number/string)\r\n                    values: this.prop_ids[this.filter_select], // possible values for property (list if string, range if number)\r\n                    disable: false, // determines if filter is disabled or not\r\n                    relation: 0, // number: 0:>, 1:<, 2:=   string: 0:=, 1:!=\r\n                    text: text // typed/selected value to use in filter\r\n                  };\r\n    this.filters.push(filter);\r\n    this.filter_index ++;\r\n  }\r\n\r\n  /* Changes the currently selected property when the user selects a value from the dropdown box\r\n     Params: Property name selected by user */\r\n  public changeFilterSelect(name) {\r\n    this.filter_select = name;\r\n  }\r\n\r\n  /* Changes the currently selected relation for a filter when user selects a value from the dropdown box\r\n     Params: ID number of filter to change\r\n             Number representing selected relation */\r\n  public changeRelation(id,relation) {\r\n    for (let i = 0 ; i < this.filters.length ; i ++) {\r\n      if (this.filters[i].id === id) {\r\n        this.filters[i].relation = Number(relation);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  /* Changes the currently selected value for a filter when user selects a value from the dropdown box (string)\r\n     Params: ID number of filter to change\r\n             Value selected by user */\r\n  public changeText(id,text) {\r\n    for (let i = 0 ; i < this.filters.length ; i ++) {\r\n      if (this.filters[i].id === id) {\r\n        this.filters[i].text = text;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  /* Changes the currently selected value for a filter when user types a value (number)\r\n     Params: ID number of filter to change\r\n             Value typed by user */\r\n  public changeNum(id,text) {\r\n    for (let i = 0 ; i < this.filters.length ; i ++) {\r\n      if (this.filters[i].id === id) {\r\n        this.filters[i].text = Number(text);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  /* Toggles the disable value for a filter when user clicks on checkbox\r\n     Params: ID number of filter to change\r\n             Boolean representing checkbox status (true for checked, false for unchecked) */\r\n  public changeDisable(id,check) {\r\n    for (let i = 0 ; i < this.filters.length ; i ++) {\r\n      if (this.filters[i].id === id) {\r\n        if (check === true) {\r\n          this.filters[i].disable = false;\r\n        } else {\r\n          this.filters[i].disable = true;\r\n        }\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  /* Removes a filter from the list when user clicks delete\r\n     Params: ID number of filter to delete */\r\n  public deleteFilter(id) {\r\n    for (let i = 0 ; i < this.filters.length ; i ++) {\r\n      if (this.filters[i].id === id) {\r\n        this.filters.splice(i,1);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  public getPropValue(props,name): any {\r\n    const cats = props.propertyNames;\r\n    for (let x of cats) {\r\n      const ids = Object.keys(props[x]._value);\r\n      for (let i of ids) {\r\n        if (i === name) {\r\n          return props[x]._value[i];\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /* Applies all filter settings to view when user clicks button\r\n     - Checks if filter is disabled, skips is true\r\n     - Checks relation and separates parent IDs into 2 arrays, show and hide, based on relation and entered value (text)\r\n     - Filter applies the rules using \"and\" \r\n         - eg. given 2 properties: property1 < 6, property2 = \"A\"\r\n               shown entities will be entities that satisfy ((property1 < 6) && (property2 = \"A\"))\r\n     Uses: - show\r\n           - hide\r\n    *** TODO: better relation if-else */\r\n  public applyFilter() {\r\n    const entities = this.dataService.getViewer().dataSources.get(0).entities;\r\n    let show = this.all_ids;\r\n    const hide = [];\r\n    this.filters.forEach((filter) => {\r\n      const newshow = [];\r\n      // skip if filter is disabled\r\n      if (filter.disable === true) {\r\n        return;\r\n      }\r\n      if (filter.type === \"number\") {\r\n        if (filter.relation === 0) {\r\n          // >\r\n          show.forEach((id) => {\r\n            if (this.getPropValue(entities.getById(id).properties,filter.name) > filter.text) {\r\n              newshow.push(id);\r\n            } else {\r\n              hide.push(id);\r\n            }\r\n          });\r\n        } else if (filter.relation === 1) {\r\n          // <\r\n          show.forEach((id) => {\r\n            if (this.getPropValue(entities.getById(id).properties,filter.name) < filter.text) {\r\n              newshow.push(id);\r\n            } else {\r\n              hide.push(id);\r\n            }\r\n          });\r\n        } else {\r\n          // =\r\n          show.forEach((id) => {\r\n            if (this.getPropValue(entities.getById(id).properties,filter.name) === filter.text) {\r\n              newshow.push(id);\r\n            } else {\r\n              hide.push(id);\r\n            }\r\n          });\r\n        }\r\n      } else {\r\n        if (filter.relation === 0) {\r\n          // =\r\n          show.forEach((id) => {\r\n            if (this.getPropValue(entities.getById(id).properties,filter.name) === filter.text) {\r\n              newshow.push(id);\r\n            } else {\r\n              hide.push(id);\r\n            }\r\n          });\r\n        } else {\r\n          // !=\r\n          show.forEach((id) => {\r\n            if (this.getPropValue(entities.getById(id).properties,filter.name) !== filter.text) {\r\n              newshow.push(id);\r\n            } else {\r\n              hide.push(id);\r\n            }\r\n          });\r\n        }\r\n      }\r\n      show = newshow;\r\n    });\r\n    this.show(entities,show);\r\n    this.hide(entities,hide);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mobius-cesium/setting/filter.component.ts","module.exports = \"#publishwindow{\\r\\n  position: relative;\\r\\n  height: 100%;\\r\\n  width: 100%;\\r\\n  color:#D3D3D3 !important;\\r\\n  font-family: Roboto,\\\"Helvetica Neue\\\",sans-serif;\\r\\n  font-size: 14px !important;\\r\\n  line-height: 16px;\\r\\n  overflow-x: hidden !important;\\r\\n}\\r\\n\\r\\n/deep/split-gutter{\\r\\n  background-color:rgb(138, 168, 192) !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-accent .mat-slider-thumb {\\r\\n    background-color: #8AA8C0 !important;\\r\\n    cursor: -webkit-grab;\\r\\n    padding: 0px;\\r\\n    height: 24px;\\r\\n    /*min-width: 50px;*/\\r\\n    -webkit-box-flex: 1;\\r\\n    -ms-flex-positive: 1;\\r\\n    flex-grow: 1;\\r\\n    -ms-touch-action: none;\\r\\n        touch-action: none;\\r\\n    -webkit-user-select: none;\\r\\n       -moz-user-select: none;\\r\\n        -ms-user-select: none;\\r\\n            user-select: none;\\r\\n    -webkit-user-drag: none;\\r\\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\r\\n}\\r\\n\\r\\n/deep/.mat-slider-thumb{\\r\\n  width: 5px !important;\\r\\n  right: -5px !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-slider-track-fill{\\r\\n  background-color: #F0BFA0 !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-slider-thumb-label-text {\\r\\n    color: #395d73 !important;\\r\\n    font-size: 12px !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-slider-thumb-label{\\r\\n    height: 15px !important;\\r\\n    width: 15px !important;\\r\\n    top: -20px !important;\\r\\n    right: -7px !important;\\r\\n    background-color: white !important;\\r\\n    border: 1px solid #395d73 !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-slider-track-background{\\r\\n  background-color: #D3D3D3 !important;\\r\\n}\\r\\n\\r\\n.mat-slider{\\r\\n    width: 100%;\\r\\n    display: inline-block;\\r\\n    position: relative;\\r\\n    -webkit-box-sizing: border-box;\\r\\n            box-sizing: border-box;\\r\\n    outline: 0;\\r\\n    vertical-align: middle;\\r\\n}\\r\\n\\r\\n.cesium-button {\\r\\n  display: inline-block;\\r\\n  position: relative;\\r\\n  border: 1px solid #8AA8C0;\\r\\n  color: #D3D3D3;\\r\\n  fill: #8AA8C0;\\r\\n  border-radius: 0px;\\r\\n  padding: 3px 0px;\\r\\n  margin: 0px 0px;\\r\\n  cursor: pointer;\\r\\n  overflow: hidden;\\r\\n  -moz-user-select: none;\\r\\n  -webkit-user-select: none;\\r\\n  -ms-user-select: none;\\r\\n  user-select: none;\\r\\n  width: 80px;\\r\\n  font-family:sans-serif !important;\\r\\n  background: transparent;\\r\\n}\\r\\n\\r\\n.cesium-button-select{\\r\\n  display: inline-block;\\r\\n  position: relative;\\r\\n  border: 1px solid #8AA8C0;\\r\\n  fill: #8AA8C0;\\r\\n  border-radius: 0px;\\r\\n  padding: 3px 0px;\\r\\n  margin: 0px 0px;\\r\\n  cursor: pointer;\\r\\n  overflow: hidden;\\r\\n  -moz-user-select: none;\\r\\n  -webkit-user-select: none;\\r\\n  -ms-user-select: none;\\r\\n  user-select: none;\\r\\n  width: 80px;\\r\\n  font-family:sans-serif !important;\\r\\n  color: #D3D3D3;\\r\\n  background: transparent;\\r\\n}\\r\\n\\r\\n.cesium-option{\\r\\n  background-color: #F1F1F1;\\r\\n  /*opacity: 0.8;*/\\r\\n  color: #8AA8C0;\\r\\n  border: 1px solid #8AA8C0;\\r\\n}\\r\\n\\r\\nhr {\\r\\n  display: block;\\r\\n  height: 1px;\\r\\n  border: 0;\\r\\n  border-top: 1px solid #D3D3D3 !important;\\r\\n  padding: 0; \\r\\n  color:#D3D3D3 !important;\\r\\n  width: 100%;\\r\\n  background-color: #D3D3D3 !important;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mobius-cesium/setting/publish.component.css\n// module id = ./src/app/mobius-cesium/setting/publish.component.css\n// module chunks = main","module.exports = \"<div id=\\\"publish\\\" style=\\\"background-color: rgba(20,20,20,0.9);height: 100%;overflow-y:overlay;\\\"  >\\r\\n\\r\\n<div id=\\\"publishwindow\\\" *ngIf=\\\"dataArr!==undefined\\\">\\r\\n        <div *ngIf=\\\"_ColorKey!==undefined\\\">\\r\\n        <table >\\r\\n          <tr>\\r\\n          <th class=\\\"colorkey\\\" style=\\\"width: 280px\\\" *ngIf=\\\"_ColorDescr!==undefined\\\"><div style=\\\"color:#D3D3D3 !important;border:0;text-align: left;font-weight: normal;font-size:14px;line-height:16px;\\\">{{_ColorDescr}}</div></th></tr>\\r\\n        </table>\\r\\n        <table>\\r\\n          <tr>\\r\\n            <th class=\\\"colorkey\\\" style=\\\"width: 80px\\\"><div class=\\\"Hide\\\" style=\\\"width: 80px;color:#D3D3D3 !important;border:0;text-align: left;font-weight: normal;\\\">Color&nbsp;&nbsp;:</div></th>\\r\\n          <th><div>\\r\\n            <select class=\\\"cesium-button\\\" (change)=\\\"onChangeColor($event.target.value)\\\" [ngModel]=\\\"_ColorKey\\\">\\r\\n              <option class=\\\"cesium-option\\\"  *ngFor=\\\"let ColorName of _ColorProperty\\\" value={{ColorName}}>{{ColorName}}</option>\\r\\n            </select>\\r\\n          </div></th>\\r\\n          </tr>\\r\\n          </table>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"_ExtrudeKey!==undefined\\\">\\r\\n        <hr>\\r\\n          <table >\\r\\n          <tr>\\r\\n          <th class=\\\"colorkey\\\" style=\\\"width: 280px\\\" *ngIf=\\\"_ExtrudeDescr!==undefined\\\"><div style=\\\"color:#D3D3D3 !important;border:0;text-align: left;font-weight: normal;font-size:14px;line-height:16px;\\\">{{_ExtrudeDescr}}</div></th></tr>\\r\\n        </table>\\r\\n        <table>\\r\\n          <tr>\\r\\n            <th class=\\\"colorkey\\\" style=\\\"width: 80px\\\"><div class=\\\"Hide\\\" style=\\\"width: 80px;color:#D3D3D3 !important;border:0;text-align: left;font-weight: normal;\\\">Extrude&nbsp;&nbsp;:</div></th>\\r\\n          <th><div>\\r\\n            <select class=\\\"cesium-button\\\" (change)=\\\"onChangeHeight($event.target.value)\\\" [ngModel]=\\\"_ExtrudeKey\\\">\\r\\n               <option class=\\\"cesium-option\\\"  *ngFor=\\\"let Height of _ExtrudeProperty\\\" value={{Height}}>{{Height}}</option>\\r\\n            </select>\\r\\n          </div></th>\\r\\n          </tr>\\r\\n        </table>\\r\\n        <table>\\r\\n          <tr ><th style=\\\"width:40px;height: 25px;\\\"><div style=\\\"width: 40px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\">Min&nbsp;&nbsp;:</div></th>\\r\\n          <th style=\\\"width:40px;\\\"><div style=\\\"width: 40px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\" *ngIf=\\\"_ExtrudeMin!==undefined\\\">{{_ExtrudeMin}}</div></th></tr>\\r\\n\\r\\n          <tr><th style=\\\"width:40px;\\\"><div style=\\\"width: 40px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\">Max&nbsp;&nbsp;:</div></th>\\r\\n          <th style=\\\"width:60px;\\\"><div style=\\\"width: 60px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\" *ngIf=\\\"_ExtrudeMax!==undefined\\\">{{_ExtrudeMax}}</div></th></tr>\\r\\n      </table>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"_Filter!==undefined\\\">\\r\\n      <hr>\\r\\n      <div class=\\\"hide-container\\\" style=\\\"margin-top:5px;\\\">\\r\\n        <div *ngFor=\\\"let item of _Filter;\\\" id={{item.divid}}>\\r\\n      <table>\\r\\n        <tr >\\r\\n          <th style=\\\"width:280px;height: 25px;\\\"><div style=\\\"color:#D3D3D3 !important;text-align: left;vertical-align: middle;font-weight: normal;font-size:14px;line-height:16px;\\\">{{item.descr}}</div></th></tr>\\r\\n        </table>\\r\\n        <table>\\r\\n          <tr>\\r\\n            <th style=\\\"max-width: 80px;height: 25px;\\\"><div matTooltip={{item.HeightHide}} style=\\\"max-width: 80px;color:#D3D3D3 !important;text-align: left;vertical-align: middle;font-weight: normal;white-space: nowrap;display:block;overflow: hidden !important;text-overflow: ellipsis !important;cursor:pointer;\\\">{{item.HeightHide}}</div></th>\\r\\n        <th *ngIf=\\\"item.type === 'number'\\\" style=\\\"width:20px;height: 25px;\\\">\\r\\n          <div style=\\\"width:20px;height: 25px;color:#D3D3D3 !important;vertical-align: middle;font-weight: normal;margin-top: 10px;\\\" *ngIf=\\\"item.RelaHide === 0\\\">></div>\\r\\n          <div style=\\\"width:20px;height: 25px;color:#D3D3D3 !important;vertical-align: middle;font-weight: normal;margin-top: 10px;\\\" *ngIf=\\\"item.RelaHide === 1\\\"><</div>\\r\\n          <div style=\\\"width:20px;height: 25px;color:#D3D3D3 !important;vertical-align: middle;font-weight: normal;margin-top: 10px;\\\" *ngIf=\\\"item.RelaHide === 2\\\">=</div></th>\\r\\n          <th *ngIf=\\\"item.type === 'category'\\\" style=\\\"width:30px;height: 25px;\\\">\\r\\n          <div style=\\\"width:20px;height: 25px;color:#D3D3D3 !important;vertical-align: middle;font-weight: normal;margin-top: 10px;\\\" *ngIf=\\\"item.RelaHide === 0\\\">none</div>\\r\\n          <div style=\\\"width:20px;height: 25px;color:#D3D3D3 !important;vertical-align: middle;font-weight: normal;margin-top: 10px;\\\" *ngIf=\\\"item.RelaHide === 1\\\">=</div>\\r\\n          <div style=\\\"width:20px;height: 25px;color:#D3D3D3 !important;vertical-align: middle;font-weight: normal;margin-top: 10px;\\\" *ngIf=\\\"item.RelaHide === 2\\\">!=</div></th>\\r\\n          <th *ngIf=\\\"item.type === 'number'\\\" style=\\\"width:80px;color:#395D73 !important;\\\"><input type=\\\"text\\\" id={{item.id}} value={{item.textHide}} (change)=\\\"Changetext($event.target.value,item.id)\\\" style=\\\"width:80px;background:transparent;color:#D3D3D3;border:1px solid #8AA8C0;\\\"></th>\\r\\n          <th *ngIf=\\\"item.type === 'category'\\\" style=\\\"width:73px;height: 25px;\\\"><div style=\\\"width:73px;height: 25px;\\\">\\r\\n          <select class=\\\"cesium-button-select\\\" [ngModel]=\\\"item.CategaryHide\\\" (change)=\\\"ChangeCategory($event.target.value,item.id,1)\\\" style=\\\"width:73px;height: 25px;\\\">\\r\\n            <option class=\\\"cesium-option\\\" *ngFor=\\\"let caty of item.Category\\\" value={{caty}}>{{caty}}</option>\\r\\n          </select></div></th>\\r\\n        <th style=\\\"width:20px;height: 22px;\\\" id={{item.id}}><input type=\\\"checkbox\\\" id={{item.id}} checked=\\\"checked\\\" (click)=\\\"Disable(item.id)\\\" style=\\\"width:20px;height: 22px;cursor:pointer;\\\"></th></tr>\\r\\n      </table>\\r\\n      <table>\\r\\n        <tr>\\r\\n        <th *ngIf=\\\"item.type === 'number'\\\" style=\\\"max-width: 30px;height: 25px;vertical-align: top;padding-top: 10px;\\\"><div style=\\\"font-weight: normal;display: inline-block;color:#D3D3D3 !important;text-align: left;max-width: 30px;\\\">{{item.HideMin}}</div></th>\\r\\n        <th *ngIf=\\\"item.type === 'number'\\\" style=\\\"width:200px;height: 25px;\\\"><div style=\\\"font-weight: normal;display: inline-block;width:200px;\\\"><mat-slider class=\\\"slider\\\" name=\\\"range\\\" id=\\\"0\\\" min={{item.HideMin}} max={{item.HideMax}} step=0.01 thumbLabel=true value={{item.textHide}} #textscale (change)=\\\"Changetext(textscale.value.toPrecision(2),item.id)\\\" >\\r\\n        </mat-slider></div></th>\\r\\n        <th *ngIf=\\\"item.type === 'number'\\\" style=\\\"max-width: 30px;height: 25px;vertical-align: top;padding-top: 10px;\\\"><div style=\\\"font-weight: normal;display: inline-block;color:#D3D3D3 !important;max-width: 30px;text-align: left;\\\">{{item.HideMax}}</div></th></tr>\\r\\n      </table><hr>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div>\\r\\n      <button style=\\\"color:#D3D3D3;border:2px solid #8AA8C0;background-color: transparent;cursor:pointer;\\\" (click)=\\\"reset()\\\">Reset</button></div>\\r\\n      </div>\\r\\n</div>\\r\\n\\r\\n  \"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mobius-cesium/setting/publish.component.html\n// module id = ./src/app/mobius-cesium/setting/publish.component.html\n// module chunks = main","import { Component, OnInit, Injector, ElementRef ,NgModule} from \"@angular/core\";\r\nimport {DataSubscriber} from \"../data/DataSubscriber\";\r\nimport { DataService } from \"../data/data.service\";\r\nimport {ViewerComponent} from \"../viewer/viewer.component\";\r\nimport * as chroma from \"chroma-js\";\r\n\r\n@Component({\r\n  selector:  \"app-publish\",\r\n  templateUrl:  \"./publish.component.html\",\r\n  styleUrls: [ \"./publish.component.css\" ],\r\n})\r\nexport class PublishComponent extends DataSubscriber implements OnInit {\r\n  private myElement ;\r\n  private dataArr: object;\r\n  private mode: string;\r\n  private _ColorDescr: string;\r\n  private _ColorProperty: any[];\r\n  private _ColorKey: string;\r\n  private _ColorMax: number;\r\n  private _ColorMin: number;\r\n  private _ColorInvert: boolean;\r\n  private _ExtrudeDescr: string;\r\n  private _ExtrudeProperty: any[];\r\n  private _ExtrudeKey: string;\r\n  private _ExtrudeMax: number;\r\n  private _ExtrudeMin: number;\r\n  private _HeightChart: boolean;\r\n  private _Invert: boolean;\r\n  private _Scale: number;\r\n  private _Filter: any[];\r\n  private _HideNum: any[];\r\n  private _CheckDisable: boolean = false;\r\n\r\n  constructor(injector: Injector, myElement: ElementRef) {\r\n  super(injector);\r\n  }\r\n  public ngOnInit() {\r\n    this.mode = this.dataService.getmode();\r\n    // this.dataArr = this.dataService.get_PuData();\r\n    if(this.dataArr !== undefined) {\r\n      this.LoadData();\r\n    }\r\n  }\r\n  public notify(message: string): void {\r\n    if(message === \"model_update\" ) {\r\n      try {\r\n        // this.dataArr = this.dataService.get_PuData();\r\n        // if(this.dataArr !== undefined) {this.LoadData();}\r\n      }\r\n      catch (ex) {\r\n        console.log(ex);\r\n      }\r\n    }\r\n  }\r\n  //load data in publish version\r\n  public LoadData() {\r\n    this._ColorDescr = this.dataArr[\"ColorDescr\"];\r\n    this._ColorProperty = this.dataArr[ \"ColorProperty\"];\r\n    this._ColorKey = this.dataArr[ \"ColorKey\"];\r\n    this._ColorMax = this.dataArr[ \"ColorMax\"];\r\n    this._ColorMin = this.dataArr[ \"ColorMin\"];\r\n    this._ColorInvert = this.dataArr[ \"ColorInvert\"];\r\n    this._ExtrudeDescr = this.dataArr[ \"ExtrudeDescr\"];\r\n    this._ExtrudeProperty = this.dataArr[ \"ExtrudeProperty\"];\r\n    this._ExtrudeKey = this.dataArr[ \"ExtrudeKey\"];\r\n    this._ExtrudeMax = this.dataArr[ \"ExtrudeMax\"];\r\n    this._ExtrudeMin = this.dataArr[ \"ExtrudeMin\"];\r\n    this._HeightChart = this.dataArr[ \"HeightChart\"];\r\n    this._Invert = this.dataArr[ \"Invert\"];\r\n    this._Scale = this.dataArr[ \"Scale\"];\r\n    this._HideNum = this.dataArr[ \"HideNum\"];\r\n    this._Filter = this.dataArr[ \"Filter\"];\r\n  }\r\n  //disable button in publish version\r\n  public Disable(event) {\r\n    const index = this._HideNum.indexOf(event);\r\n    const divid = String(\"addHide\".concat(String(event)));\r\n    const addHide = document.getElementById(divid);\r\n    if(this._Filter[index].Disabletext === null) {\r\n      this._CheckDisable = false;\r\n    } else {this._CheckDisable = true;}\r\n    if(this._CheckDisable === false) {\r\n      if(this._Filter[index].type === \"number\") {\r\n        const textHide = this._Filter[index].textHide;\r\n        this._Filter[index].Disabletext = Number(textHide);\r\n        if(this._Filter[index].RelaHide === \"0\"||this._Filter[index].RelaHide === 0) {\r\n          this._Filter[index].textHide = this._Filter[index].HideMin;\r\n        }\r\n        if(this._Filter[index].RelaHide === \"1\"||this._Filter[index].RelaHide === 1) {\r\n          this._Filter[index].textHide = this._Filter[index].HideMax;\r\n        }\r\n      } else if(this._Filter[index].type === \"category\") {\r\n        const textHide = this._Filter[index].RelaHide;\r\n        this._Filter[index].Disabletext = Number(textHide);\r\n        this._Filter[index].RelaHide = 0;\r\n      }\r\n    } else {\r\n      if(this._Filter[index].type === \"number\") {\r\n        this._Filter[index].textHide = this._Filter[index].Disabletext;\r\n        this._Filter[index].Disabletext = null;\r\n      } else if(this._Filter[index].type === \"category\") {\r\n        this._Filter[index].RelaHide = this._Filter[index].Disabletext;\r\n        this._Filter[index].Disabletext = null;\r\n      }\r\n    }\r\n    this.dataArr[\"Filter\"] = this._Filter;\r\n    this.dataArr[\"HideNum\"] = this._HideNum;\r\n    // this.dataService.set_PuData(this.dataArr);\r\n  }\r\n  //change category in filter\r\n  public ChangeCategory(categary,id,type) {\r\n    const _index = this._HideNum.indexOf(id);\r\n    if(type === 1) {\r\n      this._Filter[_index].CategaryHide = categary;\r\n    }\r\n    if(type === 0) {\r\n      this._Filter[_index].RelaHide = Number(categary);\r\n    }\r\n  }\r\n  //change text in filter\r\n  public Changetext(value,id) {\r\n    const _index = this._HideNum.indexOf(id);\r\n    this._Filter[_index].textHide = value;\r\n  }\r\n  //change color property in publish version\r\n  public onChangeColor(value) {\r\n    const data = this.dataService.getGsModel()[\"cesium\"][\"colour\"][\"attribs\"];\r\n    this.dataArr[\"ColorKey\"] = value;\r\n    for(const _data of data) {\r\n      if(_data[\"name\"] === value) {\r\n        this.dataArr[\"ColorMin\"] = _data[\"min\"];\r\n        this.dataArr[\"ColorMax\"] = _data[\"max\"];\r\n        this.dataArr[\"ColorInvert\"] = _data[\"invert\"];\r\n      }\r\n    }\r\n    const promise = this.dataService.getcesiumpromise();\r\n    const _Colortexts: any[] = [];\r\n    const self = this;\r\n    promise.then( function(dataSource) {\r\n      const entities = dataSource.entities.values;\r\n      for (const entity of entities) {\r\n        if(entity.properties[value] !== undefined) {\r\n        if(entity.properties[value]._value !== \" \") {\r\n          if(_Colortexts.length === 0) {_Colortexts[0] = entity.properties[value]._value;\r\n          } else { if(_Colortexts.indexOf(entity.properties[value]._value) === -1) {\r\n            _Colortexts.push(entity.properties[value]._value);}\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n    this.dataArr[\"ColorText\"] = _Colortexts.sort();\r\n    // this.dataService.set_PuData(this.dataArr);\r\n    this.LoadData();\r\n  }\r\n  //change extrudeheight property in publish version\r\n  public onChangeHeight(value) {\r\n    const data = this.dataService.getGsModel()[\"cesium\"][\"extrude\"][\"attribs\"];\r\n    this.dataArr[\"ExtrudeKey\"] = value;\r\n    for(const _data of data) {\r\n      if(_data[\"name\"] === value) {\r\n        this.dataArr[\"ExtrudeMin\"] = _data[\"min\"];\r\n        this.dataArr[\"ExtrudeMax\"] = _data[\"max\"];\r\n        this.dataArr[\"HeightChart\"] = _data[\"line\"];\r\n        this.dataArr[\"Invert\"] = _data[\"invert\"];\r\n        this.dataArr[\"Scale\"] = _data[\"scale\"];\r\n      }\r\n    }\r\n    const promise = this.dataService.getcesiumpromise();\r\n    const _Heighttexts = [];\r\n    const self = this;\r\n    promise.then(function(dataSource) {\r\n      const entities = dataSource.entities.values;\r\n      for (const entity of entities) {\r\n        if(entity.properties[value] !== undefined) {\r\n        if(entity.properties[value]._value !== \" \") {\r\n          if(_Heighttexts.length === 0) {_Heighttexts[0] = entity.properties[value]._value;\r\n          } else { if(_Heighttexts.indexOf(entity.properties[value]._value) === -1) {\r\n            _Heighttexts.push(entity.properties[value]._value);}\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n    this.dataArr[\"ExtrudeText\"] = _Heighttexts.sort();\r\n    // this.dataService.set_PuData(this.dataArr);\r\n    this.LoadData();\r\n  }\r\n  //reset button to load again\r\n  public reset() {\r\n    // this.dataService.LoadJSONData();\r\n    // this.dataArr = this.dataService.get_PuData();\r\n    if(this.dataArr !== undefined) {this.LoadData();}\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mobius-cesium/setting/publish.component.ts","module.exports = \"#setting{\\r\\n  position: relative;\\r\\n  height: 100%;\\r\\n  width: 100%;\\r\\n  color:#D3D3D3 !important;\\r\\n  font-family: Roboto,\\\"Helvetica Neue\\\",sans-serif;\\r\\n  font-size: 14px !important;\\r\\n  line-height: 14px;\\r\\n  overflow-x: hidden !important;\\r\\n  border-right: 1px solid gray;\\r\\n}\\r\\n\\r\\n/deep/.mat-tab-label, /deep/.mat-tab-label-active{\\r\\n  min-width: 60px!important;\\r\\n  padding: 3px!important;\\r\\n  margin: 3px!important;\\r\\n  color:#D3D3D3 !important;\\r\\n  background-color: transparent !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-tab-label{\\r\\n  height: 30px !important;\\r\\n  width: 60px !important;\\r\\n  background-color: transparent !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-tab-labels{\\r\\n  background-color: rgba(20,20,20,0.9) !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-tab-header{\\r\\n  width: 700px !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-tab-header-pagination-controls-enabled{\\r\\n  display: none !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-ink-bar{\\r\\n  background-color: #395d73 !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-tab{\\r\\n  min-width: 30px !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-tab-body-content{\\r\\n  overflow: hidden !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-header{\\r\\n  -webkit-box-orient: horizontal;\\r\\n  -webkit-box-direction: normal;\\r\\n      -ms-flex-direction: row;\\r\\n          flex-direction: row;\\r\\n  font-family: Roboto,\\\"Helvetica Neue\\\",sans-serif;\\r\\n  margin-left: 0px;\\r\\n  color:#395d73;\\r\\n  border: 0;\\r\\n  height: 20px;\\r\\n  background-color: rgba(20,20,20,0.9) !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-tab-body-wrapper{\\r\\n  height:100% !important;\\r\\n\\r\\n}\\r\\n\\r\\n/deep/split-gutter{\\r\\n  background-color:rgb(138, 168, 192) !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-accent .mat-slider-thumb {\\r\\n    background-color: #8AA8C0 !important;\\r\\n    cursor: -webkit-grab;\\r\\n}\\r\\n\\r\\n/deep/.mat-slider-thumb{\\r\\n  width: 5px !important;\\r\\n  right: -5px !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-slider-track-fill{\\r\\n  background-color: #F0BFA0 !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-slider-thumb-label-text {\\r\\n    color: #395d73 !important;\\r\\n    font-size: 12px !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-slider-thumb-label{\\r\\n    height: 15px !important;\\r\\n    width: 15px !important;\\r\\n    top: -20px !important;\\r\\n    right: -7px !important;\\r\\n    background-color: white !important;\\r\\n    border: 1px solid #395d73 !important;\\r\\n}\\r\\n\\r\\n/deep/.mat-slider-track-background{\\r\\n  background-color: #D3D3D3 !important;\\r\\n}\\r\\n\\r\\n.mat-slider{\\r\\n    width: 150px !important;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mobius-cesium/setting/setting.component.css\n// module id = ./src/app/mobius-cesium/setting/setting.component.css\n// module chunks = main","module.exports = \"<div id=\\\"setting\\\" >\\r\\n  <mat-tab-group class=\\\"mat-tab-group\\\" style=\\\"height: 100%;\\\" (selectedTabChange)=\\\"changedata($event.index)\\\" *ngIf=\\\"mode==='editor'\\\" >\\r\\n    <mat-tab label=\\\"&nbsp;Attributes&nbsp;\\\">\\r\\n      <app-select></app-select>\\r\\n    </mat-tab>\\r\\n    <mat-tab label=\\\"&nbsp;Filters&nbsp;\\\" >\\r\\n      <app-filter></app-filter>\\r\\n    </mat-tab>\\r\\n    <mat-tab label=\\\"&nbsp;Display&nbsp;\\\" >\\r\\n      <app-display></app-display>\\r\\n    </mat-tab>\\r\\n    <mat-tab label=\\\"&nbsp;About&nbsp;\\\" >\\r\\n      <app-about></app-about>\\r\\n    </mat-tab>\\r\\n<!--     <mat-tab label=\\\"&nbsp;Data&nbsp;\\\" >\\r\\n      <app-data (change)=\\\"LoadViewer()\\\" (click)=\\\"LoadViewer()\\\"></app-data>\\r\\n    </mat-tab> -->\\r\\n<!--     <mat-tab label=\\\"&nbsp;Publish&nbsp;\\\" >\\r\\n      <app-publish  (change)=\\\"LoadViewer()\\\" (click)=\\\"Reset();LoadViewer();\\\"></app-publish>\\r\\n    </mat-tab> -->\\r\\n  </mat-tab-group>\\r\\n    <app-publish *ngIf=\\\"mode==='viewer'\\\" (change)=\\\"LoadViewer()\\\" (click)=\\\"Reset();LoadViewer();\\\"></app-publish>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mobius-cesium/setting/setting.component.html\n// module id = ./src/app/mobius-cesium/setting/setting.component.html\n// module chunks = main","import { Component, OnInit, Injector, ElementRef ,NgModule} from \"@angular/core\";\r\nimport {DataSubscriber} from \"../data/DataSubscriber\";\r\nimport { DataService } from \"../data/data.service\";\r\nimport {ViewerComponent} from \"../viewer/viewer.component\";\r\nimport * as chroma from \"chroma-js\";\r\n\r\n@Component({\r\n  selector: \"app-setting\",\r\n  templateUrl: \"./setting.component.html\",\r\n  styleUrls: [\"./setting.component.css\"],\r\n})\r\nexport class SettingComponent extends DataSubscriber implements OnInit {\r\n  private myElement;\r\n  private data: JSON;\r\n  private mode: string;\r\n  private dataArr: object;\r\n  private propertyname: any[];\r\n  private relation: any[];\r\n  private text: any[];\r\n  private _Filter: any[];\r\n  private _HideNum: any[];\r\n\r\n  constructor(injector: Injector, myElement: ElementRef) {\r\n  super(injector);\r\n  }\r\n  //get data and mode\r\n  public ngOnInit() {\r\n    this.data = this.dataService.getGsModel();\r\n    this.mode = this.dataService.getmode();\r\n    if(this.mode === \"viewer\") {\r\n      this.changedata(3);\r\n    } else if(this.mode===\"editor\") {\r\n      this.changedata(1);\r\n    }\r\n  }\r\n  //change data and load new data\r\n  public notify(message: string): void {\r\n    if(message === \"model_update\" ) {\r\n      this.data = this.dataService.getGsModel();\r\n      this.mode = this.dataService.getmode();\r\n      try {\r\n        if(this.data !== undefined&&this.data[\"features\"] !== undefined) {\r\n          if(this.mode === \"viewer\") {\r\n            this.changedata(3);\r\n          } else if(this.mode === \"editor\") {\r\n            this.changedata(1);\r\n          }\r\n        }\r\n      }\r\n      catch(ex) {\r\n        console.log(ex);\r\n      }\r\n    }\r\n  }\r\n  //change index from editor version to publish version\r\n  public changedata(id: number) {\r\n    this.dataService.set_index(id);\r\n    if(id === 1) {\r\n      // this.dataArr = this.dataService.get_ViData();\r\n    } else if(id === 3) {\r\n      // this.dataArr = this.dataService.get_PuData();\r\n    }\r\n    if(this.dataArr !== undefined) {\r\n      this.LoadViewer();\r\n    }\r\n  }\r\n  //reset button to reset everthing in publish version\r\n  public Reset() {\r\n    // this.dataArr = this.dataService.get_PuData();\r\n  }\r\n  //change color and extrudeHeight of entity\r\n  public LoadViewer() {\r\n    const promise = this.dataService.getcesiumpromise();\r\n    const _ColorKey: string = this.dataArr[\"ColorKey\"];\r\n    const _ColorMax: number = this.dataArr[\"ColorMax\"];\r\n    const _ColorMin: number = this.dataArr[\"ColorMin\"];\r\n    const _ColorText: any[] = this.dataArr[\"ColorText\"];\r\n    const _ColorInvert: boolean = this.dataArr[\"ColorInvert\"];\r\n    const _ExtrudeKey: string = this.dataArr[\"ExtrudeKey\"];\r\n    const _ExtrudeMax: number = this.dataArr[\"ExtrudeMax\"];\r\n    const _ExtrudeMin: number = this.dataArr[\"ExtrudeMin\"];\r\n    const _HeightChart: boolean = this.dataArr[\"HeightChart\"];\r\n    const _Invert: boolean = this.dataArr[\"Invert\"];\r\n    const _Scale: number = this.dataArr[\"Scale\"];\r\n    const _indexArr: number[] = this.dataArr[\"indexArr\"];\r\n\r\n    let _Filter: any[];\r\n    if(this.dataArr[\"Filter\"] !== undefined&&this.dataArr[\"Filter\"].length !== 0) {\r\n      _Filter = this.dataArr[\"Filter\"];\r\n    } else {_Filter = [];}\r\n    let _ChromaScale = chroma.scale(\"SPECTRAL\");\r\n    if(_ColorInvert === true) {_ChromaScale = chroma.scale(\"SPECTRAL\").domain([1,0]);}\r\n    const self = this;\r\n    promise.then(function(dataSource) {\r\n      const entities = dataSource.entities.values;\r\n      for (const i of _indexArr) {\r\n        const entity = entities[i];\r\n        let _CheckHide: boolean;\r\n        if(entity.polygon !==undefined){\r\n          if(_Filter.length !== 0) {\r\n            _CheckHide = self.Hide(_Filter,entity,_HeightChart);\r\n            if(_CheckHide === true) {\r\n              if(entity.polygon !== undefined) {\r\n                entity.polygon.extrudedHeight = 0;\r\n                entity.polygon.material = Cesium.Color.LIGHTSLATEGRAY.withAlpha(1);\r\n                if(_HeightChart === true) {\r\n                  if(entity.polyline !== undefined) {entity.polyline.show = false;}\r\n                }\r\n              }\r\n              if(entity.polyline !== undefined)  {entity.polyline.material = Cesium.Color.LIGHTSLATEGRAY.withAlpha(1);}\r\n            }\r\n          }\r\n\r\n          if(_Filter.length === 0||_CheckHide === false) {\r\n            if(_ColorKey !== \"None\") {\r\n              if(typeof(_ColorText[0]) === \"number\") {\r\n                self.colorByNum(entity,_ColorMax,_ColorMin,_ColorKey,_ChromaScale);\r\n              } else {self.colorByCat(entity,_ColorText,_ColorKey,_ChromaScale);}\r\n            } else {entity.polygon.material = Cesium.Color.DARKGREY;}\r\n            if(_ExtrudeKey !== \"None\") {\r\n              if(_HeightChart === false) {\r\n                \r\n                 entity.polyline = undefined;\r\n                if(entity.properties[_ExtrudeKey] !==undefined) {\r\n                  entity.polygon.extrudedHeight = self.ExtrudeHeight(entity.properties[_ExtrudeKey]._value,\r\n                                                                  _ExtrudeMax,_ExtrudeMin,_Invert)*_Scale;\r\n                } else {entity.polygon.extrudedHeight = 0;}\r\n                \r\n              } else {\r\n                entity.polygon.extrudedHeight =0;\r\n                const center =  Cesium.BoundingSphere.fromPoints(entity.polygon.hierarchy.getValue().positions).center;\r\n                const radius = Math.min(Math.round(Cesium.BoundingSphere.fromPoints\r\n                                      (entity.polygon.hierarchy.getValue().positions).radius/100),10);\r\n                const longitudeString = Cesium.Math.toDegrees(Cesium.Ellipsoid.WGS84.\r\n                                        cartesianToCartographic(center).longitude).toFixed(10);\r\n                const latitudeString = Cesium.Math.toDegrees(Cesium.Ellipsoid.WGS84.cartesianToCartographic(center).\r\n                                        latitude).toFixed(10);\r\n                entity.polyline = new Cesium.PolylineGraphics({\r\n                  positions:new Cesium.Cartesian3.fromDegreesArrayHeights([longitudeString,latitudeString,0,longitudeString,\r\n                          latitudeString,self.ExtrudeHeight(entity.properties[_ExtrudeKey]._value,\r\n                          _ExtrudeMax,_ExtrudeMin,_Invert)*_Scale]),\r\n                  width:radius,\r\n                  material:entity.polygon.material,\r\n                  show:true,\r\n                });\r\n              }\r\n            } else {\r\n              entity.polyline = undefined;\r\n              entity.polygon.extrudedHeight = 0;\r\n            }\r\n          }\r\n        }else if(entity.polyline!==undefined){\r\n          if(_ColorKey !== \"None\") {\r\n            if(typeof(_ColorText[0]) === \"number\") {\r\n              self.colorByNum(entity,_ColorMax,_ColorMin,_ColorKey,_ChromaScale);\r\n            } else {self.colorByCat(entity,_ColorText,_ColorKey,_ChromaScale);}\r\n            } else {entity.polyline.material = Cesium.Color.DARKGREY;\r\n          }\r\n        } else if(entity.point!==undefined){\r\n          if(_ColorKey !== \"None\") {\r\n            if(typeof(_ColorText[0]) === \"number\") {\r\n              self.colorByNum(entity,_ColorMax,_ColorMin,_ColorKey,_ChromaScale);\r\n            } else {self.colorByCat(entity,_ColorText,_ColorKey,_ChromaScale);}\r\n            } else {entity.point.color = Cesium.Color.DARKGREY;\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n  //check whether entity should be hided or not\r\n  public Hide(_Filter: any[], entity, _HeightChart: boolean): boolean {\r\n    let _CheckHide: boolean = false;\r\n    for(const filter of _Filter) {\r\n      const value = entity.properties[filter.HeightHide]._value;\r\n      if(value !== undefined) {\r\n        if(typeof(value) === \"number\") {\r\n          if (this._compare(value, Number(filter.textHide), Number(filter.RelaHide))) {\r\n            _CheckHide=true;\r\n          }\r\n        } else if(typeof(value) === \"string\") {\r\n          if (this._compareCat(value,filter.CategaryHide, Number(filter.RelaHide))) {\r\n            _CheckHide=true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return _CheckHide;\r\n  }\r\n\r\n  public _compare(value: number, slider: number, relation: number): boolean {\r\n    switch (relation) {\r\n      case 0:\r\n        return value < slider;\r\n      case 1:\r\n        return value > slider;\r\n      case 2:\r\n        return value !== slider;\r\n    }\r\n  }\r\n\r\n  public _compareCat(value: string, _Categary: string,relation: number): boolean {\r\n    switch (relation) {\r\n      case 0:\r\n        return value ===  undefined;\r\n      case 1:\r\n        return value !== _Categary;\r\n      case 2:\r\n        return value === _Categary;\r\n    }\r\n  }\r\n  //caculate the extrudeHeight of entity\r\n  public ExtrudeHeight(value: number, _ExtrudeMax: number, _ExtrudeMin: number, _Invert: boolean): number {\r\n    let diff: number;\r\n    if(_ExtrudeMin < 0) {diff = Math.abs(_ExtrudeMin);} else {diff = 0;}\r\n    if(value > _ExtrudeMax) {value = _ExtrudeMax;}\r\n    if(value < _ExtrudeMin) {value = _ExtrudeMin;}\r\n    switch (_Invert) {\r\n      case true:\r\n        return _ExtrudeMax - value;\r\n      case false:\r\n        return value;\r\n    }\r\n  }\r\n  public colorByNum(entity, max: number, min: number, _ColorKey: string, _ChromaScale: any) {\r\n    if(entity.properties[_ColorKey] !== undefined) {\r\n      const texts = entity.properties[_ColorKey]._value;\r\n      const rgb = _ChromaScale(Number(((max - texts) / (max - min)).toFixed(2)))._rgb;\r\n      if(entity.polygon !== undefined) {entity.polygon.material = Cesium.Color.fromBytes(rgb[0],rgb[1],rgb[2]);}\r\n      if(entity.polyline !== undefined) {\r\n        const newColor = new Cesium.Color.fromBytes(rgb[0],rgb[1],rgb[2]);\r\n        entity.polyline.material.color.setValue(newColor);\r\n      }\r\n      if(entity.point !==undefined){\r\n        const newColor = new Cesium.Color.fromBytes(rgb[0],rgb[1],rgb[2]);\r\n        entity.point.color = newColor;\r\n      }\r\n    }else{\r\n      if(entity.polygon !== undefined) {entity.polygon.material = Cesium.Color.LIGHTSLATEGRAY.withAlpha(1);}\r\n      if(entity.polyline !== undefined) {entity.polyline.material = Cesium.Color.LIGHTSLATEGRAY.withAlpha(1);}\r\n      if(entity.point !== undefined) {entity.point.color = Cesium.Color.LIGHTSLATEGRAY.withAlpha(1);}\r\n    }\r\n  }\r\n\r\n  public  colorByCat(entity, _ColorText: any[], _ColorKey: string, _ChromaScale: any) {\r\n    if(entity.properties[_ColorKey] !== undefined) {\r\n      let initial: boolean = false;\r\n      for(let j = 0;j < _ColorText.length; j++) {\r\n        if(entity.properties[_ColorKey]._value === _ColorText[j]) {\r\n          const rgb = _ChromaScale(1 - (j / _ColorText.length));\r\n          if(entity.polygon !== undefined){entity.polygon.material = Cesium.Color.fromBytes(rgb._rgb[0],rgb._rgb[1],rgb._rgb[2]);}\r\n          if(entity.polyline !== undefined) {\r\n            const newColor = new Cesium.Color.fromBytes(rgb[0],rgb[1],rgb[2]);\r\n            entity.polyline.material.color.setValue(newColor);\r\n          }\r\n          if(entity.point !== undefined) {\r\n            const newColor = new Cesium.Color.fromBytes(rgb[0],rgb[1],rgb[2]);\r\n            entity.point.color = newColor;\r\n          }\r\n          initial = true;\r\n        }\r\n      }\r\n      if(initial === false) {\r\n        if(entity.polygon !== undefined){entity.polygon.material = Cesium.Color.LIGHTSLATEGRAY.withAlpha(1);}\r\n        if(entity.polyline !== undefined) {entity.polyline.material = Cesium.Color.LIGHTSLATEGRAY.withAlpha(1);}\r\n        if(entity.point !== undefined) {entity.point.color = Cesium.Color.LIGHTSLATEGRAY.withAlpha(1);}\r\n      }\r\n    }else{\r\n      if(entity.polygon !== undefined) {entity.polygon.material = Cesium.Color.LIGHTSLATEGRAY.withAlpha(1);}\r\n      if(entity.polyline !== undefined) {entity.polyline.material = Cesium.Color.LIGHTSLATEGRAY.withAlpha(1);}\r\n      if(entity.point !== undefined) {entity.point.color = Cesium.Color.LIGHTSLATEGRAY.withAlpha(1);}\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mobius-cesium/setting/setting.component.ts","module.exports = \"#SettingView{\\r\\n  position: relative;\\r\\n  padding:0px;\\r\\n  height: 100%;\\r\\n  width: 100%;\\r\\n  color:#D3D3D3 !important;\\r\\n  font-family: Roboto,\\\"Helvetica Neue\\\",sans-serif;\\r\\n  font-size: 14px !important;\\r\\n  line-height: 14px;\\r\\n  overflow-x: hidden !important;\\r\\n  background-color: rgba(20,20,20,0.9);\\r\\n  overflow-y:overlay;\\r\\n}\\r\\n/deep/.mat-tab-label, /deep/.mat-tab-label-active{\\r\\n  min-width: 60px!important;\\r\\n  padding: 3px!important;\\r\\n  margin: 3px!important;\\r\\n  color:#D3D3D3 !important;\\r\\n  background-color: transparent !important;\\r\\n}\\r\\n/deep/.mat-tab-label{\\r\\n  height: 30px !important;\\r\\n  width: 60px !important;\\r\\n  background-color: transparent !important;\\r\\n}\\r\\n/deep/.mat-tab-labels{\\r\\n  background-color: rgba(20,20,20,0.9) !important;\\r\\n}\\r\\n/deep/.mat-tab-header{\\r\\n  width: 700px !important;\\r\\n}\\r\\n/deep/.mat-tab-header-pagination-controls-enabled{\\r\\n  display: none !important;\\r\\n}\\r\\n/deep/.mat-ink-bar{\\r\\n  background-color: #395d73 !important;\\r\\n}\\r\\n/deep/.mat-tab{\\r\\n  min-width: 30px !important;\\r\\n}\\r\\n/deep/.mat-tab-body-content{\\r\\n  overflow: hidden !important;\\r\\n}\\r\\n/deep/.mat-header{\\r\\n  -webkit-box-orient: horizontal;\\r\\n  -webkit-box-direction: normal;\\r\\n      -ms-flex-direction: row;\\r\\n          flex-direction: row;\\r\\n  font-family: Roboto,\\\"Helvetica Neue\\\",sans-serif;\\r\\n  margin-left: 0px;\\r\\n  color:#395d73;\\r\\n  border: 0;\\r\\n  height: 20px;\\r\\n  background-color: rgba(20,20,20,0.9) !important;\\r\\n}\\r\\n/deep/.mat-tab-body-wrapper{\\r\\n  height:100% !important;\\r\\n\\r\\n}\\r\\n/deep/split-gutter{\\r\\n  background-color:rgb(138, 168, 192) !important;\\r\\n}\\r\\n/deep/.mat-accent .mat-slider-thumb {\\r\\n    background-color: #8AA8C0 !important;\\r\\n    cursor: -webkit-grab;\\r\\n}\\r\\n/deep/.mat-slider-thumb{\\r\\n  width: 5px !important;\\r\\n  right: -5px !important;\\r\\n}\\r\\n/deep/.mat-slider-track-fill{\\r\\n  background-color: #F0BFA0 !important;\\r\\n}\\r\\n/deep/.mat-slider-thumb-label-text {\\r\\n    color: #8AA8C0 !important;\\r\\n    font-size: 12px !important;\\r\\n}\\r\\n/deep/.mat-slider-thumb-label{\\r\\n    height: 15px !important;\\r\\n    width: 15px !important;\\r\\n    top: -20px !important;\\r\\n    right: -7px !important;\\r\\n    background-color: white !important;\\r\\n    border: 1px solid #8AA8C0 !important;\\r\\n}\\r\\n/deep/.mat-slider-track-background{\\r\\n  background-color: #D3D3D3 !important;\\r\\n}\\r\\n.mat-slider{\\r\\n    width: 150px !important;\\r\\n}\\r\\n.cesium-button {\\r\\n  display: inline-block;\\r\\n  position: relative;\\r\\n  border: 1px solid #8AA8C0;\\r\\n  color: #D3D3D3;\\r\\n  fill: #8AA8C0;\\r\\n  border-radius: 0px;\\r\\n  padding: 3px 0px;\\r\\n  margin: 0px 0px;\\r\\n  cursor: pointer;\\r\\n  overflow: hidden;\\r\\n  -moz-user-select: none;\\r\\n  -webkit-user-select: none;\\r\\n  -ms-user-select: none;\\r\\n  user-select: none;\\r\\n  width: 80px;\\r\\n  font-family:sans-serif !important;\\r\\n  background: transparent;\\r\\n}\\r\\n.cesium-button-select{\\r\\n  display: inline-block;\\r\\n  position: relative;\\r\\n  border: 1px solid #8AA8C0;\\r\\n  fill: #8AA8C0;\\r\\n  border-radius: 0px;\\r\\n  padding: 3px 0px;\\r\\n  margin: 0px 0px;\\r\\n  cursor: pointer;\\r\\n  overflow: hidden;\\r\\n  -moz-user-select: none;\\r\\n  -webkit-user-select: none;\\r\\n  -ms-user-select: none;\\r\\n  user-select: none;\\r\\n  width: 80px;\\r\\n  font-family:sans-serif !important;\\r\\n  color: #D3D3D3;\\r\\n  background: transparent;\\r\\n}\\r\\n.cesium-option{\\r\\n  background-color: #F1F1F1;\\r\\n  /*opacity: 0.8;*/\\r\\n  color: #8AA8C0;\\r\\n  border: 1px solid #8AA8C0;\\r\\n}\\r\\nhr {\\r\\n  display: block;\\r\\n  height: 1px;\\r\\n  border: 0;\\r\\n  border-top: 1px solid #D3D3D3 !important;\\r\\n  padding: 0; \\r\\n  color:#D3D3D3 !important;\\r\\n  width: 100%;\\r\\n  background-color: #8AA8C0 !important;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mobius-cesium/setting/visualise.component.css\n// module id = ./src/app/mobius-cesium/setting/visualise.component.css\n// module chunks = main","module.exports = \"<div id=\\\"SettingView\\\" >\\r\\n    <table>\\r\\n      <tr>\\r\\n      <th class=\\\"colorkey\\\" style=\\\"width: 80px\\\"><div class=\\\"Hide\\\" style=\\\"width: 80px;color:#D3D3D3 !important;border:0;text-align: left;font-weight: normal;\\\">Color</div></th>\\r\\n      <th><div>\\r\\n        <select class=\\\"cesium-button\\\" (change)=\\\"onChangeColor($event.target.value)\\\" [ngModel]=\\\"_ColorKey\\\">\\r\\n          <option class=\\\"cesium-option\\\"  *ngFor=\\\"let ColorName of _ColorProperty\\\" value={{ColorName}}>{{ColorName}}</option>\\r\\n        </select>\\r\\n      </div></th>\\r\\n      </tr>\\r\\n      </table>\\r\\n      <table>\\r\\n      <tr ><th style=\\\"width:80px;height: 25px;\\\"><div style=\\\"width: 80px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\">Min</div></th>\\r\\n      <th style=\\\"width:80px;height: 18px;\\\"><input type=\\\"text\\\"  value={{_ColorMin}} style=\\\"width:80px;height: 18px;background:transparent;color:#D3D3D3;border:1px solid #8AA8C0;font-weight: normal;text-align: left;\\\" (change)=\\\"changeColorMin($event.target.value)\\\"></th></tr>  \\r\\n      </table>\\r\\n      <table >\\r\\n      <tr ><th style=\\\"width:80px;\\\"><div style=\\\"width: 80px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\">Max</div></th>\\r\\n      <th style=\\\"width:80px;height: 18px;\\\"><input type=\\\"text\\\" value={{_ColorMax}} style=\\\"width: 80px;height: 18px;background:transparent;color:#D3D3D3;border:1px solid #8AA8C0;font-weight: normal;text-align: left;\\\" (change)=\\\"changeColorMax($event.target.value)\\\"></th></tr>\\r\\n  </table>\\r\\n    <table>\\r\\n      <tr ><th style=\\\"width:80px;height: 25px;\\\"><div style=\\\"width: 80px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\">Invert</div></th>\\r\\n      <th style=\\\"width:80px;height: 25px;\\\"><div style=\\\"width:80px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\"><input type=\\\"checkbox\\\" [checked]=\\\"_ColorInvert\\\" (click)=\\\"changeColorInvert()\\\"></div></th></tr>\\r\\n    </table>\\r\\n    <hr>\\r\\n      <table>\\r\\n      <tr>\\r\\n      <th class=\\\"colorkey\\\" style=\\\"width: 80px\\\"><div class=\\\"Hide\\\" style=\\\"width: 80px;color:#D3D3D3 !important;border:0;text-align: left;font-weight: normal;\\\">Extrude</div></th>\\r\\n      <th><div>\\r\\n        <select class=\\\"cesium-button\\\" (change)=\\\"onChangeHeight($event.target.value)\\\" [ngModel]=\\\"_ExtrudeKey\\\">\\r\\n           <option class=\\\"cesium-option\\\"  *ngFor=\\\"let Height of _ExtrudeProperty\\\" value={{Height}}>{{Height}}</option>\\r\\n        </select>\\r\\n      </div></th>\\r\\n      </tr>\\r\\n    </table>\\r\\n    <table>\\r\\n      <tr ><th style=\\\"width:80px;height: 25px;\\\"><div style=\\\"width: 80px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\">Min</div></th>\\r\\n      <th style=\\\"width:80px;height: 18px;\\\"><input type=\\\"text\\\"  value={{_ExtrudeMin}} style=\\\"width:80px;height: 18px;background:transparent;color:#D3D3D3;border:1px solid #8AA8C0;font-weight: normal;text-align: left\\\" (change)=\\\"changeHeightMin($event.target.value)\\\"></th></tr>  \\r\\n      </table>\\r\\n      <table >\\r\\n      <tr ><th style=\\\"width:80px;\\\"><div style=\\\"width: 80px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\">Max</div></th>\\r\\n      <th style=\\\"width:80px;height: 18px;\\\"><input type=\\\"text\\\" value={{_ExtrudeMax}} style=\\\"width: 80px;height: 18px;background:transparent;color:#D3D3D3;border:1px solid #8AA8C0;font-weight: normal;text-align: left;\\\" (change)=\\\"changeHeightMax($event.target.value)\\\"></th></tr>\\r\\n  </table>\\r\\n   <table>\\r\\n      <tr ><th style=\\\"width:80px;height: 25px;\\\"><div style=\\\"width: 80px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\">Scale</div></th>\\r\\n      <th style=\\\"width:80px;height: 18px;\\\"><input type=\\\"text\\\" value={{_Scale}} style=\\\"width:80px;height: 18px;background:transparent;color:#D3D3D3;border:1px solid #8AA8C0;font-weight: normal;text-align: left;\\\" (change)=\\\"changescale($event.target.value)\\\" ></th></tr>\\r\\n      <tr ><th style=\\\"width:80px;height: 25px;\\\"><div style=\\\"width: 80px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\">Invert</div></th>\\r\\n      <th style=\\\"width:80px;height: 25px;\\\"><div style=\\\"width:80px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\"><input type=\\\"checkbox\\\" [checked]=\\\"_Invert\\\" (click)=\\\"changeopp()\\\"></div></th></tr>\\r\\n      <tr ><th style=\\\"width:80px;height: 25px;\\\"><div style=\\\"width: 80px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\">Height Chart</div></th>\\r\\n      <th style=\\\"width:80px;height: 25px;\\\"><div style=\\\"width:80px;color:#D3D3D3 !important;font-weight: normal;text-align: left;border:0;\\\"><input type=\\\"checkbox\\\" [checked]=\\\"_HeightChart\\\" (click)=\\\"changeExtrude();\\\"></div></th></tr>  \\r\\n  </table>\\r\\n  <hr>\\r\\n  <table>\\r\\n    <tr>\\r\\n    <th class=\\\"colorkey\\\" style=\\\"width: 75px;height: 25px;\\\"><div class=\\\"Hide\\\" style=\\\"width: 75px;height: 25;color:#D3D3D3 !important;border-color:#395d73;border:0;text-align: left;font-weight: normal;\\\"><input type=\\\"button\\\" value=\\\"Add Filter\\\" style=\\\"color:#D3D3D3;border:1px solid #8AA8C0;width: 75px;height: 25px;background-color: transparent;cursor:pointer;\\\" (click)=\\\"addHide()\\\"></div></th>\\r\\n    <th style=\\\"width:20px;height: 22px;\\\"><div style=\\\"width:20px;height: 22px;margin-left: 10px\\\">\\r\\n      <select class=\\\"cesium-button-select\\\"  (change)=\\\"ChangeHeight($event.target.value)\\\">\\r\\n         <option class=\\\"cesium-option\\\"  *ngFor=\\\"let ColorName of _ColorProperty\\\" value={{ColorName}}>{{ColorName}}</option>\\r\\n      </select></div></th>\\r\\n    </tr>\\r\\n  </table>\\r\\n  <div class=\\\"hide-container\\\" style=\\\"margin-top:5px;\\\">\\r\\n    <div *ngFor=\\\"let item of _Filter;\\\" id={{item.divid}}>\\r\\n  <table>\\r\\n    <tr ><th style=\\\"width:85px;height: 22px;\\\"><div style=\\\"width:85px;color:#D3D3D3 !important;text-align: left;vertical-align: middle;font-weight: normal;\\\">{{item.HeightHide}}</div></th>\\r\\n    <th *ngIf=\\\"item.type === 'number'\\\" style=\\\"width:40px;height: 22px;\\\"><div style=\\\"width:40px;height: 22px;\\\">\\r\\n      <select class=\\\"cesium-button-select\\\" [ngModel]=\\\"item.RelaHide\\\" (change)=\\\"Changerelation($event.target.value,item.id)\\\" style=\\\"width:40px;height: 22px;\\\">\\r\\n         <option class=\\\"cesium-option\\\" value=0>></option>\\r\\n         <option class=\\\"cesium-option\\\" value=1><</option>\\r\\n         <option class=\\\"cesium-option\\\" value=2>=</option>\\r\\n      </select></div></th>\\r\\n      <th *ngIf=\\\"item.type === 'category'\\\" style=\\\"width:40px;height: 22px;\\\"><div style=\\\"width:40px;height: 22px;\\\">\\r\\n      <select class=\\\"cesium-button-select\\\" [ngModel]=\\\"item.RelaHide\\\" (change)=\\\"ChangeCategory($event.target.value,item.id,0)\\\" style=\\\"width:40px;height: 22px;\\\">\\r\\n        <option class=\\\"cesium-option\\\" value=0>none</option>\\r\\n        <option class=\\\"cesium-option\\\" value=1>=</option>\\r\\n        <option class=\\\"cesium-option\\\" value=2>!=</option>\\r\\n      </select></div></th>\\r\\n      <th *ngIf=\\\"item.type === 'number'\\\" style=\\\"width:70px;height: 20px;\\\"><input type=\\\"text\\\" id={{item.id}} value={{item.textHide}} (change)=\\\"Changetext($event.target.value,item.id)\\\" style=\\\"width:70px;height: 20px;background:transparent;color:#D3D3D3;border:1px solid #8AA8C0;\\\"></th>\\r\\n      <th *ngIf=\\\"item.type === 'category'\\\" style=\\\"width:73px;height: 22px;\\\"><div style=\\\"width:73px;height: 22px;\\\">\\r\\n      <select class=\\\"cesium-button-select\\\" [ngModel]=\\\"item.CategaryHide\\\" (change)=\\\"ChangeCategory($event.target.value,item.id,1)\\\" style=\\\"width:73px;height: 22px;\\\">\\r\\n        <option class=\\\"cesium-option\\\" *ngFor=\\\"let caty of item.Category\\\" value={{caty}}>{{caty}}</option>\\r\\n      </select></div></th>\\r\\n    <th style=\\\"width:20px;height: 22px;\\\" id={{item.id}}><span id={{item.id}} (click)=\\\"deleteHide(item.id)\\\" style=\\\"width:20px;height: 22px;cursor:pointer;\\\"><i class=\\\"material-icons\\\" style=\\\"color:#D3D3D3;font-size:16px\\\">delete</i></span></th>\\r\\n    <th style=\\\"width:20px;height: 25px;\\\" id={{item.id}}><input type=\\\"checkbox\\\" id={{item.id}} checked=\\\"checked\\\" (click)=\\\"Disable(item.id)\\\" tyle=\\\"width:20px;height: 25px;cursor:pointer;\\\"></th></tr>\\r\\n  </table>\\r\\n  <table>\\r\\n    <tr>\\r\\n    <th *ngIf=\\\"item.type === 'number'\\\" style=\\\"width:50px;height: 25px;vertical-align: top;padding-top: 10px;\\\"><div style=\\\"font-weight: normal;display: inline-block;color:#D3D3D3 !important;width:30px;\\\">{{item.HideMin}}</div></th>\\r\\n    <th *ngIf=\\\"item.type === 'number'\\\" style=\\\"width:150px;height: 22px;\\\"><div style=\\\"font-weight: normal;display: inline-block;width:150px;\\\"><mat-slider class=\\\"slider\\\" name=\\\"range\\\" id=\\\"0\\\" min={{item.HideMin}} max={{item.HideMax}} step=0.01 thumbLabel=true value={{item.textHide}} #textscale (change)=\\\"Changetext(textscale.value.toPrecision(2),item.id)\\\" >\\r\\n    </mat-slider></div></th>\\r\\n    <th *ngIf=\\\"item.type === 'number'\\\" style=\\\"width:50px;height: 25px;vertical-align: top;padding-top: 10px;\\\"><div style=\\\"font-weight: normal;display: inline-block;color:#D3D3D3 !important;width:30px;text-align: left;\\\">{{item.HideMax}}</div></th></tr>\\r\\n  </table><hr>\\r\\n    </div>\\r\\n  </div>\\r\\n  </div>\\r\\n  \"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mobius-cesium/setting/visualise.component.html\n// module id = ./src/app/mobius-cesium/setting/visualise.component.html\n// module chunks = main","import { Component, OnInit, Injector, ElementRef ,NgModule} from \"@angular/core\";\r\nimport {DataSubscriber} from \"../data/DataSubscriber\";\r\nimport { DataService } from \"../data/data.service\";\r\nimport {ViewerComponent} from \"../viewer/viewer.component\";\r\nimport * as chroma from \"chroma-js\";\r\n\r\n@Component({\r\n  selector: \"app-data\",\r\n  templateUrl: \"./visualise.component.html\",\r\n  styleUrls: [\"./visualise.component.css\"],\r\n})\r\nexport class DataComponent extends DataSubscriber implements OnInit {\r\n  private myElement;\r\n  private dataArr: object;\r\n  // private _ColorProperty: any[];\r\n  // private _ColorKey: string;\r\n  // private _ColorMax: number;\r\n  // private _ColorMin: number;\r\n  // private _ExtrudeProperty: any[];\r\n  // private _ExtrudeKey: string;\r\n  // private _ExtrudeMax: number;\r\n  // private _ExtrudeMin: number;\r\n  // private _HeightChart: boolean;\r\n  // private _Invert: boolean;\r\n  // private _ColorInvert: boolean;\r\n  // private _Scale: number;\r\n  // private _Filter: any[];\r\n  // private _HideNum: any[];\r\n  // private _HideValue: string;\r\n  // private _CheckDisable: boolean = true;\r\n\r\n  constructor(injector: Injector, myElement: ElementRef) {\r\n  super(injector);\r\n  }\r\n  public ngOnInit() {\r\n    // this.dataArr = this.dataService.get_ViData();\r\n    // if(this.dataArr !== undefined) {this.LoadData();}\r\n  }\r\n  public notify(message: string): void {\r\n    if(message === \"model_update\" ) {\r\n      try {\r\n        // this.dataArr = this.dataService.get_ViData();\r\n        // if(this.dataArr !== undefined) {this.LoadData();}\r\n      }\r\n      catch(ex) {\r\n        console.log(ex);\r\n      }\r\n    }\r\n  }\r\n  // //load data\r\n  // public LoadData() {\r\n  //   this._ColorProperty = this.dataArr[\"ColorProperty\"];\r\n  //   this._ColorKey = this.dataArr[\"ColorKey\"];\r\n  //   this._ColorMax = this.dataArr[\"ColorMax\"];\r\n  //   this._ColorMin = this.dataArr[\"ColorMin\"];\r\n  //   this._ColorInvert = this.dataArr[\"ColorInvert\"];\r\n  //   this._ExtrudeProperty = this.dataArr[\"ExtrudeProperty\"];\r\n  //   this._ExtrudeKey = this.dataArr[\"ExtrudeKey\"];\r\n  //   this._ExtrudeMax = this.dataArr[\"ExtrudeMax\"];\r\n  //   this._ExtrudeMin = this.dataArr[\"ExtrudeMin\"];\r\n  //   this._HeightChart = this.dataArr[\"HeightChart\"];\r\n  //   this._Invert = this.dataArr[\"Invert\"];\r\n  //   this._Scale = this.dataArr[\"Scale\"];\r\n  //   this._Filter = this.dataArr[\"Filter\"];\r\n  //   this._HideNum = this.dataArr[\"HideNum\"];\r\n  // }\r\n  // //change color property in editor version\r\n  // public onChangeColor(value) {\r\n  //   this.dataArr[\"ColorKey\"] = value;\r\n  //   const promise = this.dataService.getcesiumpromise();\r\n  //   const _Colortexts = [];\r\n  //   const self = this;\r\n  //   promise.then(function(dataSource) {\r\n  //     const entities = dataSource.entities.values;\r\n  //     for (const entity of entities) {\r\n  //       if(entity.properties[value] !== undefined) {\r\n  //       if(entity.properties[value]._value !== \" \") {\r\n  //         if(_Colortexts.length === 0) {_Colortexts[0] = entity.properties[value]._value;\r\n  //         } else { if(_Colortexts.indexOf(entity.properties[value]._value) === -1) {\r\n  //           _Colortexts.push(entity.properties[value]._value);}\r\n  //           }\r\n  //         }\r\n  //       }\r\n  //     }\r\n  //   });\r\n  //   this.dataArr[\"ColorMin\"] = Math.min.apply(Math, _Colortexts);\r\n  //   this.dataArr[\"ColorMax\"] = Math.max.apply(Math, _Colortexts);\r\n  //   this.dataArr[\"ColorText\"] = _Colortexts.sort();\r\n  //   this.dataService.set_ViData(this.dataArr);\r\n  //   this.LoadData();\r\n  // }\r\n  // //change color min in editor version\r\n  // public changeColorMin(_Min: number) {\r\n  //   this.dataArr[\"ColorMin\"] = Number(_Min);\r\n  //   this._ColorMin = this.dataArr[\"ColorMin\"];\r\n  //   this.dataService.set_ViData(this.dataArr);\r\n  // }\r\n  // //change color max in editor version\r\n  // public changeColorMax(_Max: number) {\r\n  //   this.dataArr[\"ColorMax\"] = Number(_Max);\r\n  //   this._ColorMax = this.dataArr[\"ColorMax\"];\r\n  //   this.dataService.set_ViData(this.dataArr);\r\n\r\n  // }\r\n  // //change color invert in editor version\r\n  // public changeColorInvert() {\r\n  //   this._ColorInvert =! this._ColorInvert;\r\n  //   this.dataArr[\"ColorInvert\"] = this._ColorInvert;\r\n  //   this.dataService.set_ViData(this.dataArr);\r\n  // }\r\n  // //change extrudeheight property in editor version\r\n  // public onChangeHeight(value) {\r\n  //   this.dataArr[\"ExtrudeKey\"] = value;\r\n  //   const promise = this.dataService.getcesiumpromise();\r\n  //   const _Heighttexts = [];\r\n  //   const self = this;\r\n  //   promise.then(function(dataSource) {\r\n  //     const entities = dataSource.entities.values;\r\n  //     for (const entity of entities) {\r\n  //       if(entity.properties[value] !== undefined) {\r\n  //       if(entity.properties[value]._value !== \" \") {\r\n  //         if(_Heighttexts.length === 0) {_Heighttexts[0] = entity.properties[value]._value;\r\n  //         } else  { if(_Heighttexts.indexOf(entity.properties[value]._value) === -1) {\r\n  //           _Heighttexts.push(entity.properties[value]._value);}\r\n  //           }\r\n  //         }\r\n  //       }\r\n  //     }\r\n  //   });\r\n  //   this.dataArr[\"ExtrudeMin\"] = Math.min.apply(Math, _Heighttexts);\r\n  //   this.dataArr[\"ExtrudeMax\"] = Math.max.apply(Math, _Heighttexts);\r\n  //   this.dataArr[\"ExtrudeText\"] = _Heighttexts.sort();\r\n  //   this.dataService.set_ViData(this.dataArr);\r\n  //   this.LoadData();\r\n  // }\r\n  // //change extrudeheight min in editor version\r\n  // public changeHeightMin(_Min: number) {\r\n  //   this.dataArr[\"ExtrudeMin\"] = Number(_Min);\r\n  //   this._ExtrudeMin = this.dataArr[\"ExtrudeMin\"];\r\n  //   this.dataService.set_ViData(this.dataArr);\r\n  // }\r\n  // //change extrudeHeight max in editor version\r\n  // public changeHeightMax(_Max: number) {\r\n  //   this.dataArr[\"ExtrudeMax\"] = Number(_Max);\r\n  //   this._ExtrudeMax = this.dataArr[\"ExtrudeMax\"];\r\n  //   this.dataService.set_ViData(this.dataArr);\r\n  // }\r\n  // //change scale in editor version\r\n  // public changescale(_ScaleValue: number) {\r\n  //   this.dataArr[\"Scale\"] = Number(_ScaleValue);\r\n  //   this._Scale = this.dataArr[\"Scale\"];\r\n  //   this.dataService.set_ViData(this.dataArr);\r\n  // }\r\n  // //change extrudeheight invert in editor version\r\n  // public changeopp() {\r\n  //   this._Invert =! this._Invert;\r\n  //   this.dataArr[\"Invert\"] = this._Invert;\r\n  //   this.dataService.set_ViData(this.dataArr);\r\n  // }\r\n  // //change heightChart in editor version\r\n  // public changeExtrude() {\r\n  //   this._HeightChart =! this._HeightChart;\r\n  //   this.dataArr[\"HeightChart\"] = this._HeightChart;\r\n  //   this.dataService.set_ViData(this.dataArr);\r\n  // }\r\n  // //add filter in editor version\r\n  // public addHide() {\r\n  //   let lastnumber: string;\r\n  //   if(this.dataArr[\"HideNum\"] !== undefined) {\r\n  //     this._HideNum = this.dataArr[\"HideNum\"];\r\n  //     this._Filter = this.dataArr[\"Filter\"];\r\n  //   }\r\n  //   if(this._HideNum === null||this._HideNum.length === 0) {this._HideNum[0] = \"0\";lastnumber = this._HideNum[0];\r\n  //   } else {\r\n  //     for(let i = 0;i<this._HideNum.length+1;i++) {\r\n  //       if(this._HideNum.indexOf(String(i)) === -1) {\r\n  //         this._HideNum.push(String(i));\r\n  //         lastnumber = String(i);\r\n  //         break;\r\n  //       }\r\n  //     }\r\n  //   }\r\n  //   if(this._HideValue === undefined) {this._HideValue = this._ColorProperty[0];}\r\n  //   const texts = this.Initial(this._HideValue);\r\n  //   let _HideType: string;\r\n  //   if(typeof(texts[0]) === \"number\") { _HideType = \"number\";\r\n  //   } else if(typeof(texts[0]) === \"string\") { _HideType = \"category\"; }\r\n  //   this._Filter.push({divid:String(\"addHide\".concat(String(lastnumber))),id: lastnumber,\r\n  //                      HeightHide:this._HideValue,type:_HideType,Category:texts,CategaryHide:texts[0],\r\n  //                      RelaHide:0,textHide: Math.round(Math.min.apply(Math, texts)*100)/100,\r\n  //                      HideMax:Math.ceil(Math.max.apply(Math, texts)),\r\n  //                      HideMin:Math.round(Math.min.apply(Math, texts)*100)/100,Disabletext:null});\r\n  //   this.dataArr[\"Filter\"] = this._Filter;\r\n  //   this.dataArr[\"HideNum\"] = this._HideNum;\r\n  //   this.dataService.set_ViData(this.dataArr);\r\n  // }\r\n  // //delete filter in editor version\r\n  // public deleteHide(event) {\r\n  //   const index = this._HideNum.indexOf(event);\r\n  //   const divid = String(\"addHide\".concat(String(event)));\r\n  //   const addHide = document.getElementById(divid);\r\n  //   const hidecontainer = document.getElementsByClassName(\"hide-container\")[0];\r\n  //   hidecontainer.removeChild(addHide);\r\n\r\n  //   if(this._Filter[index].type === \"number\") {\r\n  //     if(this._Filter[index].RelaHide === \"0\"||this._Filter[index].RelaHide === 0) {\r\n  //       this._Filter[index].textHide = this._Filter[index].HideMin;\r\n  //     }\r\n  //     if(this._Filter[index].RelaHide === \"1\"||this._Filter[index].RelaHide === 1) {\r\n  //       this._Filter[index].textHide = this._Filter[index].HideMax;\r\n  //     }\r\n  //   } else if(this._Filter[index].type === \"category\") {\r\n  //     this._Filter[index].RelaHide = 0;\r\n  //   }\r\n  //   this._Filter.splice(index,1);\r\n  //   this._HideNum.splice(index,1);\r\n  //   this.dataArr[\"Filter\"] = this._Filter;\r\n  //   this.dataArr[\"HideNum\"] = this._HideNum;\r\n  //   this.dataService.set_ViData(this.dataArr);\r\n  // }\r\n  // //change disable button in filter\r\n  // public Disable(event) {\r\n  //   const index = this._HideNum.indexOf(event);\r\n  //   const divid = String(\"addHide\".concat(String(event)));\r\n  //   const addHide = document.getElementById(divid);\r\n  //   if(this._Filter[index].Disabletext === null) {this._CheckDisable = false;} else {this._CheckDisable = true;}\r\n  //   if(this._CheckDisable === false) {\r\n  //     if(this._Filter[index].type === \"number\") {\r\n  //       const textHide = this._Filter[index].textHide;\r\n  //       this._Filter[index].Disabletext = Number(textHide);\r\n  //       if(this._Filter[index].RelaHide === \"0\"||this._Filter[index].RelaHide === 0) {\r\n  //         this._Filter[index].textHide = this._Filter[index].HideMin;\r\n  //       }\r\n  //       if(this._Filter[index].RelaHide === \"1\"||this._Filter[index].RelaHide === 1) {\r\n  //         this._Filter[index].textHide = this._Filter[index].HideMax;\r\n  //       }\r\n  //     } else if(this._Filter[index].type === \"category\") {\r\n  //       const textHide = this._Filter[index].RelaHide;\r\n  //       this._Filter[index].Disabletext = Number(textHide);\r\n  //       this._Filter[index].RelaHide = 0;\r\n  //     }\r\n  //   } else {\r\n  //     if(this._Filter[index].type === \"number\") {\r\n  //       this._Filter[index].textHide = this._Filter[index].Disabletext;\r\n  //       this._Filter[index].Disabletext = null;\r\n  //     } else if(this._Filter[index].type === \"category\") {\r\n  //       this._Filter[index].RelaHide = this._Filter[index].Disabletext;\r\n  //       this._Filter[index].Disabletext = null;\r\n  //     }\r\n  //   }\r\n  //   this.dataArr[\"Filter\"] = this._Filter;\r\n  //   this.dataArr[\"HideNum\"] = this._HideNum;\r\n  //   this.dataService.set_ViData(this.dataArr);\r\n  // }\r\n  // //change height slider in filter\r\n  // public ChangeHeight(_HeightHide: string) {\r\n  //   this._HideValue = _HeightHide;\r\n  // }\r\n  // //change relation in filter\r\n  // public Changerelation(_RelaHide: any, id: number) {\r\n  //   const index = this._HideNum.indexOf(id);\r\n  //   const HeightHide = this._Filter[index].HeightHide;\r\n  //   this._Filter[index].RelaHide = _RelaHide;\r\n  //   const texts = [];\r\n  //   const promise = this.dataService.getcesiumpromise();\r\n  //   const self = this;\r\n  //   promise.then(function(dataSource) {\r\n  //     const entities = dataSource.entities.values;\r\n  //     for (const entity of entities) {\r\n  //     if(entity.properties[HeightHide] !== undefined) {\r\n  //       if(entity.properties[HeightHide]._value !== \" \") {\r\n  //         if(texts.length === 0) {texts[0] = entity.properties[HeightHide]._value;\r\n  //         } else { if(texts.indexOf(entity.properties[HeightHide]._value) === -1) {\r\n  //           texts.push(entity.properties[HeightHide]._value);}\r\n  //           }\r\n  //         }\r\n  //       }\r\n  //     }\r\n  //   });\r\n  //   this._Filter[index].HideMax = Math.ceil(Math.max.apply(Math, texts));\r\n  //   this._Filter[index].HideMin = Math.round(Math.min.apply(Math, texts)*100)/100;\r\n  //   if(_RelaHide===\"0\"||_RelaHide === 0) {this._Filter[index].textHide = this._Filter[index].HideMin;}\r\n  //   if(_RelaHide===\"1\"||_RelaHide === 1) {this._Filter[index].textHide = this._Filter[index].HideMax;}\r\n  // }\r\n  // //change category in filter\r\n  // public ChangeCategory(categary: string, id: number, type: number) {\r\n  //   const index = this._HideNum.indexOf(id);\r\n  //   if(type === 1) {\r\n  //     this._Filter[index].CategaryHide = categary;\r\n  //   }\r\n  //   if(type === 0) {\r\n  //     this._Filter[index].RelaHide = Number(categary);\r\n  //   }\r\n  // }\r\n  // //change text in filter\r\n  // public Changetext(value: string, id: number) {\r\n  //   const index = this._HideNum.indexOf(id);\r\n  //   this._Filter[index].textHide = value;\r\n  // }\r\n  // //get text according to property\r\n  // public  Initial(_HideValue: string): any[] {\r\n  //   const texts = [];\r\n  //   const promise = this.dataService.getcesiumpromise();\r\n  //   const self = this;\r\n  //   promise.then(function(dataSource) {\r\n  //     const entities = dataSource.entities.values;\r\n  //     for (const entity of entities) {\r\n  //       if(entity.properties[_HideValue] !== undefined) {\r\n  //         if(entity.properties[_HideValue]._value !== \" \") {\r\n  //           if(texts.length === 0) {texts[0] = entity.properties[_HideValue]._value;\r\n  //           } else { if(texts.indexOf(entity.properties[_HideValue]._value) === -1) {\r\n  //             texts.push(entity.properties[_HideValue]._value);}\r\n  //           }\r\n  //         }\r\n  //       }\r\n  //     }\r\n  //   });\r\n  //   return texts;\r\n  // }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mobius-cesium/setting/visualise.component.ts","module.exports = \"body{\\r\\n  background: red;\\r\\n}\\r\\n#cesiumContainer{\\r\\n height: 100%;\\r\\n width: 100%; \\r\\n font-family: sans-serif !important;\\r\\n margin: 0px !important;\\r\\n padding: 0px !important;\\r\\n font-size: 14px;\\r\\n}\\r\\n#ColorBar{\\r\\n  z-index:99;\\r\\n  margin: 5px;\\r\\n  width: 100%;\\r\\n  padding: 2px 5px;\\r\\n  position: absolute;\\r\\n  display:inline-block;\\r\\n  bottom: 7%;\\r\\n  overflow: hidden !important;\\r\\n  text-overflow: ellipsis !important;\\r\\n  table-layout:fixed !important;\\r\\n  white-space: nowrap !important;\\r\\n}\\r\\n#ColorKey{\\r\\n  z-index:99;\\r\\n  margin: 5px;\\r\\n  width: 100%;\\r\\n  padding: 2px 5px;\\r\\n  position: absolute;\\r\\n  display:inline-block;\\r\\n  bottom: 2%;\\r\\n  overflow: hidden !important;\\r\\n  text-overflow: ellipsis !important;\\r\\n  table-layout:fixed !important;\\r\\n  white-space: nowrap !important;\\r\\n}\\r\\n#Download{\\r\\n  z-index: 99;\\r\\n  top: 5px;\\r\\n  position: absolute;\\r\\n  right: 120px;\\r\\n  width: 32px;\\r\\n  height: 32px;\\r\\n  font-size: 16px;\\r\\n  -webkit-box-sizing: border-box;\\r\\n          box-sizing: border-box;\\r\\n  border-radius: 14%;\\r\\n  padding: 0;\\r\\n  vertical-align: middle;\\r\\n}\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mobius-cesium/viewer/viewer.component.css\n// module id = ./src/app/mobius-cesium/viewer/viewer.component.css\n// module chunks = main","module.exports = \"<!-- <div id=\\\"cesiumContainer\\\" (click)=\\\"select();showAttribs($event)\\\" (mousemove)=\\\"Colortext();\\\"> -->\\r\\n<div id=\\\"cesiumContainer\\\" (click)=\\\"select()\\\">\\r\\n  <!-- <button class=\\\"cesium-button cesium-button-toolbar\\\" (click)=\\\"save_geojson()\\\" id=\\\"Download\\\"><i class=\\\"fa fa-download\\\"></i></button> -->\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mobius-cesium/viewer/viewer.component.html\n// module id = ./src/app/mobius-cesium/viewer/viewer.component.html\n// module chunks = main","import { Component, OnInit, Injector, ElementRef } from \"@angular/core\";\r\nimport {DataSubscriber} from \"../data/DataSubscriber\";\r\nimport {SettingComponent} from \"../setting/setting.component\";\r\n// import * as d3 from \"d3-array\";\r\nimport * as chroma from \"chroma-js\";\r\n\r\n@Component({\r\n  selector: \"cesium-viewer\",\r\n  templateUrl: \"./viewer.component.html\",\r\n  styleUrls: [\"./viewer.component.css\"],\r\n})\r\nexport class ViewerComponent extends DataSubscriber {\r\n  private data: any;\r\n  private myElement;\r\n  // private dataArr: object;\r\n  private viewer: any;\r\n  private selectEntity: any=null;\r\n  private material: any;\r\n  // private _Colorbar: any[];\r\n  // private texts: any[];\r\n  // private _Cattexts: any[];\r\n  // private _CatNumtexts: any[];\r\n  private pickupArrs: any[];\r\n  // private mode: string;\r\n  // private _index: number;\r\n  // private _ShowColorBar: boolean;\r\n  // private _ColorKey: string;\r\n  // private _ExtrudeKey: string;\r\n\r\n  constructor(injector: Injector, myElement: ElementRef) {\r\n    super(injector);\r\n    this.myElement = myElement;\r\n  }\r\n\r\n  public ngOnInit() {\r\n    // //pass mode to dataService\r\n    // this.mode = this.dataService.getmode();\r\n    if(this.dataService.getViewer() === undefined){\r\n      this.CreateViewer();\r\n    }\r\n    // get rules\r\n    this.dataService.readRules();\r\n    // //pass data to dataService\r\n    this.data = this.dataService.getGsModel();\r\n    // //load data\r\n    this.LoadData(this.data);\r\n  }\r\n\r\n  public notify(message: string): void {\r\n    if(message === \"model_update\" ) {\r\n      this.data = this.dataService.getGsModel();\r\n      try {\r\n        if(this.dataService.getViewer() === undefined){\r\n          this.CreateViewer();\r\n        }\r\n        this.LoadData(this.data);\r\n      }\r\n      catch(ex) {\r\n        console.log(ex);\r\n      }\r\n    }\r\n  }\r\n  //create cesium viewer and change home button funciton\r\n  public CreateViewer(){\r\n    const viewer = new Cesium.Viewer(\"cesiumContainer\" , {\r\n      infoBox: false,\r\n      showRenderLoopErrors: false,\r\n      orderIndependentTranslucency: false,\r\n      baseLayerPicker: false,\r\n      fullscreenButton:false,\r\n      automaticallyTrackDataSourceClocks:false,\r\n      animation:false,\r\n      shadows:true,\r\n      scene3DOnly:true,\r\n      selectionIndicator : false,\r\n      geocoder: false,\r\n      //terrainShadows: Cesium.ShadowMode.ENABLED\r\n    });\r\n    viewer.scene.imageryLayers.removeAll();\r\n    viewer.scene.globe.baseColor = Cesium.Color.GRAY;\r\n    // viewer.scene.contextOptions = {webgl: {antialias: false}};\r\n    document.getElementsByClassName(\"cesium-viewer-bottom\")[0].remove();\r\n    const self = this;\r\n    viewer.homeButton.viewModel.command.beforeExecute.addEventListener(function(e) {\r\n        e.cancel = true;\r\n        viewer.zoomTo(self.dataService.getcesiumpromise());\r\n    });\r\n    this.dataService.setViewer(viewer);\r\n  }\r\n  //Cesium geoJson to load data and check mode\r\n  public LoadData(data: JSON) {\r\n    if(this.data !== undefined) {\r\n      // console.log(\"Gen geom\");\r\n      /////// INITIALISING VIEWER ////////\r\n      const viewer = this.dataService.getViewer();\r\n      viewer.dataSources.removeAll({destroy:true});\r\n      /////// OBTAINING DATA ////////\r\n      const context = this;\r\n      let promise = context.cityJSONService.genGeom(data);\r\n      if (promise === undefined) {\r\n        promise = context.cityGMLService.genGeom(data);\r\n      }\r\n\r\n      promise.then((datasource) => {\r\n        // console.log(context.cityGMLService.getCount());\r\n        context.cesiumGeomService.clearDataSource();\r\n        context.data = null;\r\n        viewer.dataSources.add(datasource);\r\n        console.log(\"Done\");\r\n      });\r\n\r\n      this.dataService.setcesiumpromise(promise);\r\n      let promise2 = viewer.zoomTo(promise);\r\n      promise2.then(()=>{\r\n        document.getElementById(\"overlay\").style.display = \"none\";\r\n        document.getElementById(\"loader\").style.display = \"none\";\r\n        promise2 = null;\r\n      })\r\n      \r\n      const _HeightKey: any[] = [];\r\n\r\n      /////// THIS IS FOR THE ZOOM TO HOME BUTTON ///////\r\n      viewer.homeButton.viewModel.command.beforeExecute.addEventListener(function(e) {\r\n        e.cancel = true;\r\n        // document.getElementById(\"overlay\").style.display = \"block\";\r\n        // document.getElementById(\"loader\").style.display = \"block\";\r\n        // console.log(\"block\")\r\n        promise2 = viewer.zoomTo(promise);\r\n        // console.log(\"zoom\")\r\n        // promise2.then(()=>{\r\n        //   document.getElementById(\"overlay\").style.display = \"none\";\r\n        //   document.getElementById(\"loader\").style.display = \"none\";\r\n        //   console.log(\"none\")\r\n        //   promise2 = null;\r\n        // })\r\n      });\r\n\r\n      // if(this.mode === \"editor\") {\r\n      //   this._ShowColorBar = false;\r\n      //   this._index = 1;\r\n      // }\r\n      // if(this.mode === \"viewer\") {\r\n      //   // this.dataService.LoadJSONData();\r\n      //   // this.dataArr = this.dataService.get_PuData();\r\n      //   this._index = 3;\r\n      // }\r\n      // if(this.mode === \"cityjson\") {\r\n      //   this._ShowColorBar = false;\r\n      //   this._index = 1;\r\n      // }\r\n\r\n      // this.Colortext();\r\n    }\r\n  }\r\n  //create color bar and text at bottom of viewer\r\n  // public Colortext() {\r\n  //   if(this.dataArr !== undefined) {\r\n  //     if(this._index !== this.dataService.get_index()) {\r\n  //       this._index = this.dataService.get_index();\r\n  //       // if(this._index === 1) {this.dataArr = this.dataService.get_ViData();\r\n  //       // } else if(this._index === 3) {this.dataArr = this.dataService.get_PuData();}\r\n  //     }\r\n  //     const propertyname = this.dataArr[\"ColorKey\"];\r\n  //     const texts = this.dataArr[\"ColorText\"].sort();\r\n  //     const _Max: number = this.dataArr[\"ColorMax\"];\r\n  //     const _Min: number = this.dataArr[\"ColorMin\"];\r\n  //     if(this.mode === \"viewer\") {\r\n  //       this._ColorKey = this.dataArr[\"ColorKey\"];\r\n  //       this._ExtrudeKey = this.dataArr[\"ExtrudeKey\"];\r\n  //     }\r\n  //     this.texts = undefined;\r\n  //     this._Cattexts = [];\r\n  //     this._CatNumtexts = [];\r\n  //     let _ColorKey: any;\r\n  //     let _ChromaScale = chroma.scale(\"SPECTRAL\");\r\n  //     if(this.dataArr[\"ColorInvert\"] === true) {_ChromaScale = chroma.scale(\"SPECTRAL\").domain([1,0]);}\r\n  //     this._Colorbar = [];\r\n  //     for(let i = 79;i>-1;i--) {\r\n  //       this._Colorbar.push(_ChromaScale(i/80));\r\n  //     }\r\n  //     if(typeof(texts[0]) === \"number\") {\r\n  //       this.texts = [Number(_Min.toFixed(2))];\r\n  //       for(let i = 1;i<10;i++) {\r\n  //         this.texts.push(Number((_Min+(_Max-_Min)*(i/10)).toFixed(2)));\r\n  //       }\r\n  //       this.texts.push(Number(_Max.toFixed(2)));\r\n  //       for(let i = 0;i<this.texts.length;i++) {\r\n  //         if(this.texts[i]/1000000000>1) {\r\n  //           this.texts[i] = String(Number((this.texts[i]/1000000000).toFixed(3))).concat(\"B\");\r\n  //         } else if(this.texts[i]/1000000>1) {\r\n  //           this.texts[i] = String(Number((this.texts[i]/1000000).toFixed(3))).concat(\"M\");\r\n  //         } else if(this.texts[i]/1000>1) {\r\n  //           this.texts[i] = String(Number(((this.texts[i]/1000)).toFixed(3))).concat(\"K\");\r\n  //         }\r\n  //       }\r\n  //     }\r\n  //     if(typeof(texts[0]) === \"string\") {\r\n  //       if(texts.length<=12) {\r\n  //         for(let j = 0;j<texts.length;j++) {\r\n  //           _ColorKey = [];\r\n  //           _ColorKey.text = texts[j];\r\n  //           _ColorKey.color = _ChromaScale (1 - (j / texts.length));//_ChromaScale(j/texts.length);\r\n  //           this._Cattexts.push(_ColorKey);\r\n  //         }\r\n  //       } else {\r\n  //         for(let j = 0;j<this._Colorbar.length;j++) {\r\n  //           _ColorKey = [];\r\n  //           if(j === 0) {_ColorKey.text = texts[j];} else if(j === this._Colorbar.length-1) {\r\n  //             if(texts[texts.length-1] !== null) {_ColorKey.text = texts[texts.length-1];\r\n  //             } else {_ColorKey.text = texts[texts.length-2];}\r\n  //           } else { _ColorKey.text = null;}\r\n  //           _ColorKey.color = this._Colorbar[j];\r\n  //           this._CatNumtexts.push(_ColorKey);\r\n  //         }\r\n  //       }\r\n  //     }\r\n  //   }\r\n  //   if(this._ShowColorBar === false) {\r\n  //     this._Cattexts = undefined;\r\n  //     this._Colorbar = undefined;\r\n  //   }\r\n  // }\r\n  //click building to select and  pass whole entity to dataService\r\n  public select() {\r\n    event.stopPropagation();\r\n    const viewer = this.dataService.getViewer();//this.viewer;\r\n    if(this.selectEntity !== undefined&&this.selectEntity !== null) {\r\n      this.selectEntity._children[0].polygon.material.color.intervals.get(0).data = this.material;\r\n    }\r\n\r\n    if(viewer.selectedEntity !== undefined&&viewer.selectedEntity.polygon !== null) {\r\n      this.dataService.set_SelectedEntity(viewer.selectedEntity._parent);\r\n      this.selectEntity = viewer.selectedEntity._parent;\r\n      this.material = this.selectEntity._children[0].polygon.material.color.intervals.get(0).data;\r\n      this.selectEntity._children[0].polygon.material.color.intervals.get(0).data = Cesium.Color.BLUE.withAlpha(this.material.alpha);\r\n      //get properties\r\n    } else {\r\n      this.dataService.set_SelectedEntity(undefined);\r\n      this.selectEntity = undefined;\r\n      this.material = undefined;\r\n    }\r\n  }\r\n\r\n  // public showAttribs(event) {\r\n  //   const viewer = this.dataService.getViewer();\r\n  //   if(this.data !== undefined) {\r\n  //     if(this.data[\"cesium\"] !== undefined) {\r\n  //       if(this.data[\"cesium\"].select !== undefined) {\r\n  //         if(viewer.selectedEntity !== undefined) {\r\n  //           const pickup = viewer.scene.pick(new Cesium.Cartesian2(event.clientX,event.clientY));\r\n  //           this.pickupArrs = [];\r\n  //           this.pickupArrs.push({name:\"ID\",data:pickup.id.id});\r\n  //           for(const _propertyName of this.data[\"cesium\"].select) {\r\n  //             this.pickupArrs.push({name:_propertyName,data:\r\n  //                                   this.dataService.get_SelectedEntity().properties[_propertyName]._value});\r\n  //           }\r\n  //           const nameOverlay = document.getElementById(\"cesium-infoBox-defaultTable\");\r\n  //           viewer.container.appendChild(nameOverlay);\r\n  //           nameOverlay.style.bottom = viewer.canvas.clientHeight - event.clientY + \"px\";\r\n  //           nameOverlay.style.left = event.clientX + \"px\";\r\n  //           nameOverlay.style.display= \"block\";\r\n  //         } else {\r\n  //           document.getElementById(\"cesium-infoBox-defaultTable\").style.display= \"none\";\r\n  //         }\r\n  //       }\r\n  //     }\r\n  //   }\r\n  // }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mobius-cesium/viewer/viewer.component.ts","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\nwindow['CESIUM_BASE_URL'] = 'assets/cesium';\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts"],"sourceRoot":"webpack:///"}